{"version":3,"sources":["components/data.js","components/firebase.js","components/List.jsx","components/ShowRecord/StaticDragBox.jsx","components/ShowRecord/ShowRecord.jsx","components/EditTemplate/DynamicDragBox.jsx","components/EditTemplate/ActionPanel.jsx","components/EditTemplate/AddingPanel.jsx","components/EditTemplate/EditTemplate.jsx","components/EditRecord/DynamicDragBox.jsx","components/EditRecord/EditRecord.jsx","components/Login.jsx","components/Router.jsx","components/App.jsx","index.js"],"names":["generateID","Math","random","toString","substr","imageFitTypes","screen","observable","box","setScreen","location","set","templates","id","name","layout","type","size","width","height","pos","x","y","zIndex","fit","setPos","layoutID","chosenTemplate","this","editTemplateElementName","value","setImageFitType","fitType","action","records","parentID","nameChained","fill","content","editRecordField","fillItemId","get","chosenRecord","getTemplate","toJS","getRecord","chooseTemplate","templateID","createNewRecord","chosenTemplateId","template","Object","values","forEach","e","layoutElements","length","layoutTextboxes","filter","getFirstTextbox","updPos","recordID","getLayoutItem","layoutItemID","settings","addingPanelWidth","addingPanelHeight","actionPanelHeight","showAddingPanel","showActionPanel","displayAddingPanel","displayActionPanel","hideAddingPanel","hideActionPanel","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","initializeApp","auth","db","firestore","displayName","user","currentUser","updateProfile","error","alert","console","log","email","password","setLoading","signInWithEmailAndPassword","provider","GoogleAuthProvider","signInWithPopup","result","credential","accessToken","signOut","createUserWithEmailAndPassword","collection","doc","uid","products","sells","pastSells","data","update","FieldValue","arrayUnion","updateCollection","arrayRemove","inject","observer","useState","templateId","setTemplateId","useEffect","firstTemplateId","keys","logout","a","firebase","onClick","onChange","target","map","key","newTemplateId","createNewTemplate","style","paddingTop","display","justifyContent","padding","cursor","border","marginBottom","backgroundColor","StaticDragBox","layoutId","layoutElement","position","alignItems","disableDragging","enableResizing","bottom","bottomLeft","bottomRight","left","right","top","topLeft","topRight","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","elementSwitcher","getContent","active","setActiveHandle","onDragStop","onResizeStop","_direction","ref","delta","updSize","onMouseDown","onResize","onDrag","node","deltaX","deltaY","pointerEvents","margin","outline","color","resize","textAlignLast","readOnly","onDoubleClick","select","ActionPanel","setActive","styleSheet","canResize","setCanResize","cancelResize","document","documentElement","clientHeight","clientY","changeActionPanelHeight","window","addEventListener","removeEventListener","deleteItem","conf","confirm","chosenTemplateID","k","deleteLayoutItem","pickImageFitType","changeImageFitType","layoutItem","imageFitTypeSwitch","generateMenu","AddingPanel","boxData","setBoxData","obj","i","clientWidth","clientX","changeAddingPanelWidth","parentNode","createdItemId","layoutItemType","newItem","recordGroupID","addLayoutItem","activeId","stopPropagation","marginRight","flexDirection","background","Login","setEmail","setPassword","loading","signIn","message","register","onSubmit","preventDefault","className","initFirebase","onAuthStateChanged","screenSwitch","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c20f716f.chunk.js","sourcesContent":["import { observable, action, toJS } from 'mobx'\r\n\r\nconst generateID = () => Math.random().toString(36).substr(2, 9)\r\n\r\nexport const imageFitTypes = ['cover', 'contain', 'auto']\r\n\r\nexport const screen = observable.box('loading')\r\nexport const setScreen = (location) => screen.set(location)\r\n\r\nexport const templates = observable(\r\n\t{\r\n\t\t'1337': {\r\n\t\t\tid: '1337',\r\n\t\t\tname: 'Car',\r\n\t\t\tlayout: {\r\n\t\t\t\t'13370': {\r\n\t\t\t\t\tid: '13370',\r\n\t\t\t\t\ttype: 'templateName',\r\n\t\t\t\t\tname: 'Car',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '35px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 300,\r\n\t\t\t\t\t\ty: 50\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 1\r\n\t\t\t\t},\r\n\t\t\t\t'13371': {\r\n\t\t\t\t\tid: '13371',\r\n\t\t\t\t\ttype: 'label',\r\n\t\t\t\t\tname: 'Mark',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '40px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 50,\r\n\t\t\t\t\t\ty: 200\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 1\r\n\t\t\t\t},\r\n\t\t\t\t'13376': {\r\n\t\t\t\t\tid: '13376',\r\n\t\t\t\t\ttype: 'label',\r\n\t\t\t\t\tname: 'Model',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '50px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 50,\r\n\t\t\t\t\t\ty: 300\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 1\r\n\t\t\t\t},\r\n\t\t\t\t'13372': {\r\n\t\t\t\t\tid: '13372',\r\n\t\t\t\t\ttype: 'textbox',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 100,\r\n\t\t\t\t\t\ty: 200\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 2\r\n\t\t\t\t},\r\n\t\t\t\t'13373': {\r\n\t\t\t\t\tid: '13373',\r\n\t\t\t\t\ttype: 'textbox',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 100,\r\n\t\t\t\t\t\ty: 300\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 2\r\n\t\t\t\t},\r\n\t\t\t\t'13374': {\r\n\t\t\t\t\tid: '13374',\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\tfit: 'cover',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '300px',\r\n\t\t\t\t\t\theight: '150px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 50,\r\n\t\t\t\t\t\ty: 400\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 2\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetPos(layoutID, pos) {\r\n\t\t\tif (chosenTemplate !== -1) {\r\n\t\t\t\tthis[chosenTemplate].layout[layoutID].pos = pos\r\n\t\t\t}\r\n\t\t},\r\n\t\teditTemplateElementName(layoutID, value) {\r\n\t\t\tthis[chosenTemplate].layout[layoutID].name = value\r\n\t\t\tif (this[chosenTemplate].layout[layoutID].type === 'templateName') {\r\n\t\t\t\tthis[chosenTemplate].name = value\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetImageFitType(layoutID, fitType) {\r\n\t\t\tthis[chosenTemplate].layout[layoutID].fit = fitType\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tsetPos: action,\r\n\t\teditTemplateElementName: action,\r\n\t\tsetImageFitType: action,\r\n\t}\r\n)\r\n\r\nexport const records = observable(\r\n\t{\r\n\t\t'1337': {\r\n\t\t\t// this record id\r\n\t\t\t'111': {\r\n\t\t\t\tid: '111',\r\n\t\t\t\t// ID of this element parent\r\n\t\t\t\tparentID: '1337',\r\n\t\t\t\tname: 'Ford',\r\n\t\t\t\tnameChained: '13372',\r\n\t\t\t\tfill: {\r\n\t\t\t\t\t'13372': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13372',\r\n\t\t\t\t\t\tcontent: 'Ford'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'13373': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13373',\r\n\t\t\t\t\t\tcontent: 'Mustang'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'13374': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13374',\r\n\t\t\t\t\t\tcontent: 'https://autoua.net/media/uploads/ford/electric-ford-mustang-by-charge-cars.jpg'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'222': {\r\n\t\t\t\tid: '222',\r\n\t\t\t\tparentID: '1337',\r\n\t\t\t\tname: 'Toyota',\r\n\t\t\t\tnameChained: '13372',\r\n\t\t\t\tfill: {\r\n\t\t\t\t\t'13372': {\r\n\t\t\t\t\t\tid: '13372',\r\n\t\t\t\t\t\tcontent: 'Toyota'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'13373': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13373',\r\n\t\t\t\t\t\tcontent: 'Corolla'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'13374': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13374',\r\n\t\t\t\t\t\tcontent: 'https://carrentalgeorgia.ge/uploads/product/834471572870733.jpg'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\teditRecordField(fillItemId, value) {\r\n\t\t\tthis[chosenTemplate.get()][chosenRecord.get()].fill[fillItemId].content = value\r\n\r\n\t\t\tif (this[chosenTemplate.get()][chosenRecord.get()].nameChained === fillItemId) {\r\n\t\t\t\tthis[chosenTemplate.get()][chosenRecord.get()].name = value\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\teditRecordField: action,\r\n\t}\r\n)\r\n\r\nexport const chosenTemplate = observable.box(-1)\r\nexport const chosenRecord = observable.box(-1)\r\n\r\nexport const getTemplate = () => {\r\n\treturn toJS(templates[chosenTemplate.get()])\r\n}\r\n\r\nexport const getRecord = () => {\r\n\treturn toJS(records[chosenTemplate.get()][chosenRecord.get()])\r\n}\r\n\r\nexport const chooseTemplate = (templateID) => {\r\n\tchosenTemplate.set(templateID)\r\n}\r\n\r\nexport const chooseRecord = (recordID) => {\r\n\tchosenRecord.set(recordID)\r\n}\r\n\r\nexport const createNewTemplate = () => {\r\n\tlet id = generateID()\r\n\ttemplates[id] = {\r\n\t\tid,\r\n\t\tname: 'New template',\r\n\t\tlayout: {\r\n\t\t\t'1': {\r\n\t\t\t\tid: '1',\r\n\t\t\t\ttype: 'templateName',\r\n\t\t\t\tname: 'New template',\r\n\t\t\t\tsize: {\r\n\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\theight: '25px'\r\n\t\t\t\t},\r\n\t\t\t\tpos: {\r\n\t\t\t\t\tx: 200,\r\n\t\t\t\t\ty: 50\r\n\t\t\t\t},\r\n\t\t\t\tzIndex: 1\r\n\t\t\t},\r\n\t\t\t'2': {\r\n\t\t\t\tid: '2',\r\n\t\t\t\ttype: 'label',\r\n\t\t\t\tname: 'default label',\r\n\t\t\t\tsize: {\r\n\t\t\t\t\twidth: '90px',\r\n\t\t\t\t\theight: '25px'\r\n\t\t\t\t},\r\n\t\t\t\tpos: {\r\n\t\t\t\t\tx: 50,\r\n\t\t\t\t\ty: 100\r\n\t\t\t\t},\r\n\t\t\t\tzIndex: 1\r\n\t\t\t},\r\n\t\t\t'3': {\r\n\t\t\t\tid: '3',\r\n\t\t\t\ttype: 'textbox',\r\n\t\t\t\tsize: {\r\n\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\theight: '25px'\r\n\t\t\t\t},\r\n\t\t\t\tpos: {\r\n\t\t\t\t\tx: 150,\r\n\t\t\t\t\ty: 100\r\n\t\t\t\t},\r\n\t\t\t\tzIndex: 1\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\tchooseTemplate(id)\r\n\tcreateNewRecord()\r\n\treturn id\r\n}\r\n\r\nexport const createNewRecord = () => {\r\n\tlet chosenTemplateId = chosenTemplate.get()\r\n\tlet id = generateID()\r\n\tlet template = getTemplate()\r\n\r\n\t// create object in records\r\n\tif (!records[chosenTemplateId]) {\r\n\t\trecords[chosenTemplateId] = {}\r\n\t}\r\n\r\n\tlet fill = {}\r\n\r\n\tObject.values(template.layout).forEach(e => {\r\n\t\tif (e.type !== 'templateName' && e.type !== 'label') {\r\n\t\t\tfill[e.id] = {\r\n\t\t\t\tid: e.id,\r\n\t\t\t\tcontent: 'new textbox'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tconst getFirstTextbox = () => {\r\n\t\tlet layoutElements = Object.values(template.layout)\r\n\t\tif (layoutElements.length < 1) return -1\r\n\r\n\t\tlet layoutTextboxes = layoutElements.filter(e => e.type === 'textbox')\r\n\t\tif (layoutTextboxes.length < 1) return -1\r\n\r\n\t\treturn layoutTextboxes[0].id\r\n\t}\r\n\r\n\trecords[chosenTemplateId][id] = {\r\n\t\tid,\r\n\t\tparentID: chosenTemplateId,\r\n\t\tname: 'new record to parent ' + template.name,\r\n\t\tnameChained: getFirstTextbox(),\r\n\t\tfill\r\n\t}\r\n}\r\n\r\nexport const updSize = (layoutID, pos, ref) => {\r\n\tlet size = {\r\n\t\twidth: ref.style.width,\r\n\t\theight: ref.style.height\r\n\t}\r\n\tif (chosenTemplate !== -1) {\r\n\t\ttemplates[chosenTemplate].layout[layoutID].size = size\r\n\t}\r\n\r\n\tupdPos(layoutID, pos)\r\n}\r\n\r\nexport const updPos = (layoutID, pos) => {\r\n\ttemplates.setPos(layoutID, pos)\r\n}\r\n\r\nexport const editTemplateElementName = (layoutID, value) => {\r\n\ttemplates.editTemplateElementName(layoutID, value)\r\n}\r\n\r\nexport const editRecordField = (layoutID, recordID, value) => {\r\n\trecords.editRecordField(layoutID, recordID, value)\r\n}\r\n\r\nexport const getLayoutItem = (layoutItemID) => {\r\n\treturn getTemplate().layout[layoutItemID]\r\n}\r\n\r\nexport const addLayoutItem = (layoutItemType, pos) => {\r\n\tlet chosenTemplateID = chosenTemplate.get()\r\n\tlet id = generateID()\r\n\r\n\tlet newItem = {\r\n\t\tid,\r\n\t\ttype: layoutItemType,\r\n\t\tname: 'New ' + layoutItemType,\r\n\t\tsize: { width: '80px', height: '25px' },\r\n\t\tpos,\r\n\t\tzIndex: 1\r\n\t}\r\n\r\n\tif (layoutItemType === 'image') {\r\n\t\tnewItem.size.width = '300px'\r\n\t\tnewItem.size.height = '150px'\r\n\t\tnewItem.fit = 'cover'\r\n\t}\r\n\r\n\ttemplates[chosenTemplateID].layout[id] = newItem\r\n\r\n\tif (layoutItemType === 'templateName' || layoutItemType === 'label') {\r\n\t\treturn id\r\n\t}\r\n\r\n\tlet templateID = chosenTemplate.get()\r\n\r\n\tObject.keys(records).forEach(recordGroupID => {\r\n\t\tif (recordGroupID === templateID) {\r\n\t\t\tObject.keys(records[recordGroupID]).forEach(recordID => {\r\n\t\t\t\trecords[recordGroupID][recordID].fill[id] = {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tcontent: 'New ' + layoutItemType\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\treturn id\r\n}\r\n\r\nexport const deleteLayoutItem = (layoutItemID) => {\r\n\r\n\tlet chosenTemplateID = chosenTemplate.get()\r\n\r\n\tdelete templates[chosenTemplateID].layout[layoutItemID]\r\n\r\n\t// find and delete all records\r\n\tObject.keys(records[chosenTemplateID]).map(e => {\r\n\t\tObject.keys(records[chosenTemplateID][e].fill).map(k => {\r\n\t\t\tif (k === layoutItemID) {\r\n\t\t\t\tdelete records[chosenTemplateID][e].fill[k]\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}\r\n\r\nexport const changeImageFitType = (layoutItemID, fitType) => {\r\n\r\n\tif (getTemplate().layout[layoutItemID].type !== 'image') {\r\n\t\tconsole.log('Trying to change fit type for non-image layout element!')\r\n\t\treturn\r\n\t}\r\n\ttemplates.setImageFitType(layoutItemID, fitType)\r\n}\r\n\r\nexport const settings = observable(\r\n\t{\r\n\t\tlayout: {\r\n\t\t\taddingPanelWidth: '200',\r\n\t\t\taddingPanelHeight: '560',\r\n\t\t\tactionPanelHeight: '200',\r\n\t\t\tshowAddingPanel: true,\r\n\t\t\tshowActionPanel: true,\r\n\t\t}\r\n\t}\r\n)\r\n\r\nexport const changeAddingPanelWidth = (e) => {\r\n\tsettings.layout.addingPanelWidth = document.documentElement.clientWidth - e.clientX\r\n}\r\nexport const changeActionPanelHeight = (e) => {\r\n\tsettings.layout.actionPanelHeight = document.documentElement.clientHeight - e.clientY\r\n\tsettings.layout.addingPanelHeight = e.clientY\r\n}\r\n\r\nexport const displayAddingPanel = () => settings.layout.showAddingPanel = true\r\nexport const displayActionPanel = () => settings.layout.showActionPanel = true\r\n\r\nexport const hideAddingPanel = () => settings.layout.showAddingPanel = false\r\nexport const hideActionPanel = () => settings.layout.showActionPanel = false\r\n","import app from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport { setScreen } from './data'\r\n\r\n/* eslint-disable */\r\nconst firebaseConfig = {\r\n\tapiKey: process.env.REACT_APP_API_KEY,\r\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n\tdatabaseURL: process.env.REACT_APP_DATABASE_URL,\r\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\r\n\tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n\tappId: process.env.REACT_APP_APP_ID\r\n}\r\n/* eslint-enable */\r\n\r\nclass Firebase {\r\n\r\n\tconstructor() {\r\n\t\tapp.initializeApp(firebaseConfig)\r\n\t\tthis.auth = app.auth()\r\n\t\tthis.db = app.firestore()\r\n\t}\r\n\r\n\tasync updateUserProfileName(displayName) {\r\n\t\t// Also can delete user, update password, email, etc.\r\n\t\t// https://firebase.google.com/docs/auth/web/manage-users\r\n\t\tconst user = this.auth.currentUser\r\n\t\ttry {\r\n\t\t\tuser.updateProfile({ displayName })\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t update user profile name')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tasync signInWithEmailAndPassword(email, password, setLoading) {\r\n\t\ttry {\r\n\t\t\tsetLoading(true)\r\n\t\t\tawait this.auth.signInWithEmailAndPassword(email, password)\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tsetLoading(false)\r\n\t\t\tconsole.log(error)\r\n\t\t\treturn error\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tasync signInWithPopup() {\r\n\t\tlet provider = new this.auth.GoogleAuthProvider()\r\n\t\tlet result\r\n\t\ttry {\r\n\t\t\tresult = await this.auth().signInWithPopup(provider)\r\n\t\t\t// This gives you a Google Access Token. You can use it to access the Google API.\r\n\t\t\tvar token = result.credential.accessToken\r\n\t\t\t// The signed-in user info.\r\n\t\t\tvar user = result.user\r\n\t\t\t// ...\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t sign in with popup')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tasync signOut() {\r\n\t\ttry {\r\n\t\t\tawait this.auth.signOut()\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Sign out error')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tasync createUserWithEmailAndPassword(email, password, setLoading) {\r\n\t\ttry {\r\n\t\t\tsetLoading(true)\r\n\t\t\tawait this.auth.createUserWithEmailAndPassword(email, password)\r\n\t\t\tawait this.db.collection('users').doc(this.auth.currentUser.uid).set({\r\n\t\t\t\tproducts: [],\r\n\t\t\t\tsells: [],\r\n\t\t\t\tpastSells: []\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tsetLoading(false)\r\n\t\t\treturn error\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tasync updateCollection() {\r\n\t\ttry {\r\n\t\t\tconst collection = await this.db.collection('users').doc(this.auth.currentUser.uid).get()\r\n\t\t\tthis.collection = collection.data()\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t get data from database')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tasync addData(data) {\r\n\t\ttry {\r\n\t\t\tawait this.db.collection('users').doc(this.auth.currentUser.uid).update({\r\n\t\t\t\tproducts: app.firestore.FieldValue.arrayUnion(data)\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t add data')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t\tawait this.updateCollection()\r\n\t}\r\n\r\n\tasync deleteData(data) {\r\n\t\ttry {\r\n\t\t\tawait this.db.collection('users').doc(this.auth.currentUser.uid).update({\r\n\t\t\t\tproducts: app.firestore.FieldValue.arrayRemove(data)\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t delete data')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t\tawait this.updateCollection()\r\n\t}\r\n}\r\n\r\nexport default new Firebase()","import React, { useState, useEffect } from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport firebase from './firebase'\r\nimport { chosenTemplate, chooseTemplate, chooseRecord, createNewTemplate, createNewRecord, setScreen } from './data'\r\n\r\n\r\nconst List = ({ templates, records }) => {\r\n\r\n\tconst [templateId, setTemplateId] = useState(-1)\r\n\r\n\tuseEffect(() => {\r\n\t\tlet firstTemplateId = chosenTemplate.get()\r\n\t\tif (firstTemplateId !== -1) {\r\n\t\t\tsetTemplateId(firstTemplateId)\r\n\t\t} else {\r\n\t\t\tfirstTemplateId = Object.keys(templates)[0]\r\n\t\t\tif (firstTemplateId) {\r\n\t\t\t\tsetTemplateId(firstTemplateId)\r\n\t\t\t\tchooseTemplate(firstTemplateId)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [templates])\r\n\r\n\tconst gotoEditTemplate = () => {\r\n\t\tsetScreen('editTemplate')\r\n\t}\r\n\r\n\tconst pickTemplate = (e) => {\r\n\t\tsetTemplateId(e.target.value)\r\n\t\tchooseTemplate(e.target.value)\r\n\t}\r\n\r\n\tconst createTemplate = () => {\r\n\t\tlet newTemplateId = createNewTemplate()\r\n\t\tsetTemplateId(newTemplateId)\r\n\t}\r\n\r\n\tconst logout = async () => {\r\n\t\tawait firebase.signOut()\r\n\t\tsetScreen('login')\r\n\t}\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<button onClick={logout}>Logout</button>\r\n\t\t\t{\r\n\t\t\t\ttemplateId === -1 ?\r\n\t\t\t\t\t<div>No templates found</div> :\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<select onChange={pickTemplate} value={templateId}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tObject.keys(templates).map(key => (\r\n\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\t\tvalue={key}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{templates[key].name}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t<button onClick={gotoEditTemplate}>Edit template</button>\r\n\r\n\t\t\t\t\t\t<button onClick={createTemplate}>Create new template</button>\r\n\r\n\t\t\t\t\t\t<button onClick={createNewRecord}>Add record</button>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trecords[templateId] ?\r\n\t\t\t\t\t\t\t\tObject.keys(records[templateId]).map(key => (\r\n\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ paddingTop: '20px' }}\r\n\t\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tchooseRecord(key)\r\n\t\t\t\t\t\t\t\t\t\t\tsetScreen('showRecord')\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '10px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid green',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: '10px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(100, 255, 150, 0.2)'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{records[templateId][key].name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)) :\r\n\t\t\t\t\t\t\t\t<p>No records found</p>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('templates', 'records')(observer(List))\r\n","import React from 'react'\r\nimport { Rnd } from 'react-rnd'\r\nimport { getTemplate } from './../data'\r\n\r\nconst StaticDragBox = ({ layoutId, content }) => {\r\n\r\n\tlet layoutElement = getTemplate().layout[layoutId]\r\n\r\n\tconst elementSwitcher = () => {\r\n\t\t/*  eslint-disable*/\r\n\t\tswitch (layoutElement.type) {\r\n\t\t\tcase 'textbox':\r\n\t\t\t\treturn <p>{content}</p>\r\n\t\t\tcase 'templateName':\r\n\t\t\t\treturn <p>{layoutElement.name}</p>\r\n\t\t\tcase 'label':\r\n\t\t\t\treturn <p>{layoutElement.name}:</p>\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tbackgroundImage: `url(${content})`,\r\n\t\t\t\t\t\tbackgroundPosition: 'center',\r\n\t\t\t\t\t\tbackgroundSize: layoutElement.fit,\r\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\t\tborder: '1px solid black'\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t}\r\n\t\t/* eslint-enable */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Rnd\r\n\r\n\t\t\tsize={layoutElement.size}\r\n\t\t\tposition={layoutElement.pos}\r\n\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t}}\r\n\r\n\t\t\tdisableDragging={true}\r\n\r\n\t\t\tenableResizing={{\r\n\t\t\t\tbottom: false,\r\n\t\t\t\tbottomLeft: false,\r\n\t\t\t\tbottomRight: false,\r\n\t\t\t\tleft: false,\r\n\t\t\t\tright: false,\r\n\t\t\t\ttop: false,\r\n\t\t\t\ttopLeft: false,\r\n\t\t\t\ttopRight: false,\r\n\t\t\t}}\r\n\r\n\t\t>\r\n\r\n\t\t\t{elementSwitcher()}\r\n\r\n\t\t</Rnd >\r\n\t)\r\n}\r\n\r\nexport default StaticDragBox","import React from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { getTemplate, getRecord, setScreen } from './../data'\r\nimport StaticDragBox from './StaticDragBox'\r\n\r\n\r\nconst ShowRecord = () => {\r\n\r\n\r\n\tconst getContent = (key) => {\r\n\t\tlet content = false\r\n\t\tlet fill = getRecord().fill[key]\r\n\t\tif (fill) {\r\n\t\t\tcontent = fill.content\r\n\t\t}\r\n\t\treturn content\r\n\t}\r\n\r\n\tconst gotoEditRecord = () => {\r\n\t\tsetScreen('editRecord')\r\n\t}\r\n\r\n\tconst gotoList = () => {\r\n\t\tsetScreen('list')\r\n\t}\r\n\r\n\tconst loopLayout = () => {\r\n\t\treturn Object.keys(getTemplate().layout).map(key => {\r\n\t\t\tlet content = getContent(key)\r\n\t\t\treturn (\r\n\t\t\t\t<StaticDragBox\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\tlayoutId={key}\r\n\t\t\t\t\tcontent={content}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\r\n\t\t\t<button onClick={gotoList}>Back</button>\r\n\t\t\t<button onClick={gotoEditRecord}>Edit record</button>\r\n\r\n\t\t\t{loopLayout()}\r\n\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('templates')(observer(ShowRecord))\r\n","import React from 'react'\r\nimport { Rnd } from 'react-rnd'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { updPos, updSize, getTemplate, editTemplateElementName } from './../data'\r\n\r\nconst DynamicDragBox = ({ layoutId, active, setActiveHandle }) => {\r\n\r\n\tlet layoutElement = getTemplate().layout[layoutId]\r\n\r\n\tconst elementSwitcher = () => {\r\n\t\t/*  eslint-disable*/\r\n\t\tswitch (layoutElement.type) {\r\n\t\t\tcase 'textbox':\r\n\t\t\t\treturn <textarea\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'grey',\r\n\t\t\t\t\t\tresize: 'none',\r\n\t\t\t\t\t\ttextAlignLast: 'center',\r\n\t\t\t\t\t\tbackgroundColor: 'transparent',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\treadOnly={true}\r\n\t\t\t\t\tvalue='Textbox'\r\n\t\t\t\t/>\r\n\t\t\tcase 'label':\r\n\t\t\tcase 'templateName':\r\n\t\t\t\treturn <textarea\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: layoutElement.size.width,\r\n\t\t\t\t\t\theight: layoutElement.size.height,\r\n\t\t\t\t\t\ttextAlignLast: 'center',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\tresize: 'none',\r\n\t\t\t\t\t\tbackgroundColor: 'transparent',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={layoutElement.name}\r\n\t\t\t\t\tonChange={(e) => editTemplateElementName(layoutId, e.target.value)}\r\n\t\t\t\t\tonDoubleClick={e => e.target.select()}\r\n\t\t\t\t/>\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tbackgroundImage: 'url(https://static.toiimg.com/thumb/72975551.cms?width=680&height=512&imgsize=881753)',\r\n\t\t\t\t\t\tbackgroundPosition: 'center',\r\n\t\t\t\t\t\tbackgroundSize: layoutElement.fit,\r\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\t\tborder: '1px solid black'\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t}\r\n\t\t/* eslint-enable */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Rnd\r\n\r\n\t\t\tsize={layoutElement.size}\r\n\t\t\tposition={layoutElement.pos}\r\n\r\n\t\t\tonDragStop={\r\n\t\t\t\t(e, pos) => active !== -1 && updPos(layoutElement.id, pos)\r\n\t\t\t}\r\n\t\t\tonResizeStop={\r\n\t\t\t\t(e, _direction, ref, delta, pos) => active !== -1 && updSize(layoutElement.id, pos, ref)\r\n\t\t\t}\r\n\t\t\tonMouseDown={\r\n\t\t\t\te => setActiveHandle(e, layoutElement.id)\r\n\t\t\t}\r\n\t\t\tonResize={\r\n\t\t\t\te => setActiveHandle(e, layoutElement.id)\r\n\t\t\t}\r\n\r\n\t\t\tstyle={\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tonDrag={\r\n\t\t\t\t(node, x, y, deltaX, deltaY) => {\r\n\t\t\t\t\t//console.log(node, x, y, deltaX, deltaY,)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t>\r\n\t\t\t<div style={{\r\n\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tdisplay: 'inline',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\ttop: '0',\r\n\t\t\t\tleft: '0',\r\n\t\t\t\tbottom: '0',\r\n\t\t\t\tright: '0',\r\n\t\t\t\tborder: (active === layoutElement.id ? '1px solid rgb(193, 66, 66)' : '1px solid rgb(122, 122, 122)'),\r\n\t\t\t\tbackgroundColor: (active === layoutElement.id ? 'rgba(193, 66, 66, 0.26)' : 'rgba(122, 122, 122, 0.26)')\r\n\t\t\t}} />\r\n\r\n\t\t\t{elementSwitcher()}\r\n\t\t</Rnd >\r\n\t)\r\n}\r\n\r\nexport default inject('templates')(observer(DynamicDragBox))","import React, { useState, useEffect } from 'react'\r\nimport { getLayoutItem, deleteLayoutItem, imageFitTypes, changeImageFitType, changeActionPanelHeight, hideActionPanel } from './../data'\r\n\r\n\r\nconst ActionPanel = ({ layoutItemID, setActive, styleSheet }) => {\r\n\r\n\tconst [canResize, setCanResize] = useState(false)\r\n\r\n\tconst allowResize = () => {\r\n\t\tsetCanResize(true)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst cancelResize = () => {\r\n\t\t\tsetCanResize(false)\r\n\t\t}\r\n\t\tconst resize = (e) => {\r\n\t\t\tcanResize && changeActionPanelHeight(e)\r\n\t\t}\r\n\t\twindow.addEventListener('mouseup', cancelResize)\r\n\t\twindow.addEventListener('mousemove', resize)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('mouseup', cancelResize)\r\n\t\t\twindow.removeEventListener('mousemove', resize)\r\n\t\t}\r\n\t}, [canResize])\r\n\r\n\tconst deleteItem = () => {\r\n\t\tlet conf = true\r\n\r\n\t\tif (getLayoutItem(layoutItemID).type === 'textbox') {\r\n\t\t\tconf = window.confirm('This will delete all connected record fields')\r\n\t\t}\r\n\r\n\t\tif (!conf) return\r\n\r\n\t\tdeleteLayoutItem(layoutItemID)\r\n\t\tsetActive(-1)\r\n\t}\r\n\r\n\tconst pickImageFitType = (e) => {\r\n\t\tchangeImageFitType(layoutItemID, e.target.value)\r\n\t}\r\n\r\n\tconst imageFitTypeSwitch = (layoutItem) => {\r\n\t\treturn (\r\n\t\t\t<select onChange={pickImageFitType} value={layoutItem.fit}>\r\n\t\t\t\t{\r\n\t\t\t\t\timageFitTypes.map(e =>\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<option key={e} value={e} >\r\n\t\t\t\t\t\t\t\t{e}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</select>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\tconst generateMenu = () => {\r\n\r\n\t\tlet layoutItem = getLayoutItem(layoutItemID)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>{layoutItem.type}</p>\r\n\t\t\t\t{\r\n\t\t\t\t\tlayoutItem.type !== 'templateName' && <button onClick={deleteItem}>Delete this shit</button>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tlayoutItem.type === 'image' && imageFitTypeSwitch(layoutItem)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={styleSheet}>\r\n\t\t\t<button style={{ position: 'absolute', left: '20px', top: '-50px' }} onClick={hideActionPanel}>Hide</button>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\ttop: '-5px',\r\n\t\t\t\t\tleft: '0',\r\n\t\t\t\t\theight: '10px',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tbackgroundColor: 'rgba(255, 100, 100, 0.8)',\r\n\t\t\t\t\tcursor: 'row-resize',\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseDown={allowResize}\r\n\t\t\t/>\r\n\t\t\t{\r\n\t\t\t\tlayoutItemID === -1 ?\r\n\t\t\t\t\t<p>No layout item chosen</p> :\r\n\t\t\t\t\tgenerateMenu()\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ActionPanel\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Rnd } from 'react-rnd'\r\nimport { addLayoutItem, changeAddingPanelWidth, hideAddingPanel } from './../data'\r\n\r\n\r\nconst AddingPanel = ({ styleSheet, setActive }) => {\r\n\r\n\tlet boxHeight = 50\r\n\r\n\tconst [boxData, setBoxData] = useState({})\r\n\tconst [canResize, setCanResize] = useState(false)\r\n\r\n\tconst allowResize = () => {\r\n\t\tsetCanResize(true)\r\n\t}\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tlet boxNames = ['label', 'textbox', 'image']\r\n\t\tlet boxVerticalGap = 10\r\n\t\tlet obj = {}\r\n\t\tboxNames.forEach((e, i) => obj[e] = {\r\n\t\t\tx: '',\r\n\t\t\ty: i * boxHeight + boxVerticalGap * (i + 1)\r\n\t\t})\r\n\t\tsetBoxData(obj)\r\n\r\n\r\n\t\tconst cancelResize = () => {\r\n\t\t\tsetCanResize(false)\r\n\t\t}\r\n\r\n\t\tconst resize = (e) => {\r\n\t\t\tcanResize && changeAddingPanelWidth(e)\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('mouseup', cancelResize)\r\n\t\twindow.addEventListener('mousemove', resize)\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('mouseup', cancelResize)\r\n\t\t\twindow.removeEventListener('mousemove', resize)\r\n\t\t}\r\n\r\n\t}, [boxHeight, canResize])\r\n\r\n\treturn (\r\n\t\t<div style={styleSheet}>\r\n\t\t\t<button style={{ position: 'absolute', left: '-70px', top: '20px' }} onClick={hideAddingPanel}>Hide</button>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tleft: '-5px',\r\n\t\t\t\t\ttop: '0',\r\n\t\t\t\t\twidth: '10px',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tbackgroundColor: 'rgba(100, 255, 100, 0.8)',\r\n\t\t\t\t\tcursor: 'col-resize',\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseDown={allowResize}\r\n\t\t\t/>\r\n\r\n\t\t\t{\r\n\t\t\t\tObject.keys(boxData).map(k => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Rnd\r\n\t\t\t\t\t\t\tkey={k}\r\n\t\t\t\t\t\t\tposition={boxData[k]}\r\n\t\t\t\t\t\t\tsize={{ width: '100%', height: boxHeight }}\r\n\t\t\t\t\t\t\tenableResizing={false}\r\n\r\n\t\t\t\t\t\t\tonDragStop={\r\n\t\t\t\t\t\t\t\t(e, pos) => {\r\n\r\n\t\t\t\t\t\t\t\t\tif (pos.x >= 0) {\r\n\t\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlet x = e.target.parentNode.parentNode.clientWidth + pos.x - e.target.parentNode.clientWidth\r\n\t\t\t\t\t\t\t\t\tlet position = { x, y: pos.y }\r\n\t\t\t\t\t\t\t\t\tlet createdItemId = addLayoutItem(k, position)\r\n\t\t\t\t\t\t\t\t\tsetActive(createdItemId)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\t\t\t\tborder: '1px solid blue'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t{k}\r\n\r\n\t\t\t\t\t\t</Rnd >\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\r\n\t\t</div >\r\n\t)\r\n}\r\n\r\nexport default AddingPanel\r\n","import React, { useState } from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { getTemplate, setScreen, displayAddingPanel, displayActionPanel } from './../data'\r\nimport DynamicDragBox from './DynamicDragBox'\r\nimport ActionPanel from './ActionPanel'\r\nimport AddingPanel from './AddingPanel'\r\n\r\n\r\nconst EditTemplate = ({ settings }) => {\r\n\r\n\tconst [active, setActive] = useState(-1)\r\n\r\n\tconst setActiveHandle = (e, activeId) => {\r\n\t\tif (active === activeId) return\r\n\t\te.stopPropagation()\r\n\t\tsetActive(activeId)\r\n\t}\r\n\r\n\tconst gotoList = () => setScreen('list')\r\n\r\n\tconst loopLayout = () => {\r\n\t\treturn Object.keys(getTemplate().layout).map(key => {\r\n\t\t\treturn (\r\n\t\t\t\t<DynamicDragBox\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\tlayoutId={key}\r\n\t\t\t\t\tactive={active}\r\n\t\t\t\t\tsetActiveHandle={setActiveHandle}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{\r\n\t\t\tposition: 'relative',\r\n\t\t\theight: '100vh',\r\n\t\t\twidth: '100vw'\r\n\t\t}}>\r\n\r\n\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tborder: '1px solid cyan',\r\n\t\t\t\t\tbackgroundColor: 'rgba(100, 150, 255, 0.2)',\r\n\t\t\t\t\theight: '100vh',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tmarginRight: '15vw',\r\n\t\t\t\t}}>\r\n\r\n\t\t\t\t<button onClick={gotoList}>Go to List</button>\r\n\t\t\t\t{loopLayout()}\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t{settings.layout.showAddingPanel ?\r\n\t\t\t\t<AddingPanel\r\n\t\t\t\t\tsetActive={setActive}\r\n\t\t\t\t\tstyleSheet={{\r\n\t\t\t\t\t\twidth: settings.layout.addingPanelWidth + 'px',\r\n\t\t\t\t\t\theight: settings.layout.addingPanelHeight + 'px',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(100, 255, 100, 0.2)',\r\n\t\t\t\t\t\tborder: '1px solid green',\r\n\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\tright: '0',\r\n\t\t\t\t\t\ttop: '0',\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/> :\r\n\t\t\t\t<button\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\ttop: '20px',\r\n\t\t\t\t\t\tright: '20px'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonClick={displayAddingPanel}\r\n\t\t\t\t>\r\n\t\t\t\t\tShow adding panel\r\n\t\t\t\t</button>\r\n\t\t\t}\r\n\r\n\t\t\t{settings.layout.showActionPanel ?\r\n\t\t\t\t<ActionPanel\r\n\t\t\t\t\tlayoutItemID={active}\r\n\t\t\t\t\tsetActive={setActive}\r\n\t\t\t\t\tstyleSheet={{\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: settings.layout.actionPanelHeight + 'px',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(255, 100, 100, 0.2)',\r\n\t\t\t\t\t\tborder: '1px solid red',\r\n\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\tbottom: '0',\r\n\t\t\t\t\t}}\r\n\t\t\t\t/> :\r\n\t\t\t\t<button\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\tbottom: '20px',\r\n\t\t\t\t\t\tleft: '20px'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonClick={displayActionPanel}\r\n\t\t\t\t>\r\n\t\t\t\t\tShow action panel\r\n\t\t\t\t</button>\r\n\t\t\t}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('templates', 'settings')(observer(EditTemplate))\r\n","import React from 'react'\r\nimport { Rnd } from 'react-rnd'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { getTemplate, editRecordField } from './../data'\r\n\r\nconst DynamicDragBox = ({ fillItemId, content }) => {\r\n\r\n\tlet layoutElement = getTemplate().layout[fillItemId]\r\n\r\n\tconst elementSwitcher = () => {\r\n\t\t/*  eslint-disable*/\r\n\t\tswitch (layoutElement.type) {\r\n\t\t\tcase 'textbox':\r\n\t\t\t\treturn <textarea\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.1)',\r\n\t\t\t\t\t\tresize: 'none',\r\n\t\t\t\t\t\ttextAlignLast: 'center',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={content}\r\n\t\t\t\t\tonChange={(e) => editRecordField(fillItemId, e.target.value)}\r\n\t\t\t\t\tonDoubleClick={e => e.target.select()}\r\n\r\n\t\t\t\t/>\r\n\t\t\tcase 'templateName':\r\n\t\t\tcase 'label':\r\n\t\t\t\treturn <textarea\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: layoutElement.size.width,\r\n\t\t\t\t\t\theight: layoutElement.size.height,\r\n\t\t\t\t\t\ttextAlignLast: 'center',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'grey',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.1)',\r\n\t\t\t\t\t\tresize: 'none',\r\n\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={layoutElement.name}\r\n\t\t\t\t\treadOnly={true}\r\n\t\t\t\t/>\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: layoutElement.size.width,\r\n\t\t\t\t\t\theight: layoutElement.size.height,\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tbackgroundImage: `url(${content})`,\r\n\t\t\t\t\t\tbackgroundPosition: 'center',\r\n\t\t\t\t\t\tbackgroundSize: layoutElement.fit,\r\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\t\tborder: '1px solid black',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: layoutElement.size.width,\r\n\t\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\tbackground: 'rgba(230, 230, 230, 0.9)',\r\n\t\t\t\t\t\t\tborder: '1px solid black',\r\n\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\tonChange={(e) => editRecordField(fillItemId, e.target.value)}\r\n\t\t\t\t\t\tonDoubleClick={e => e.target.select()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t}\r\n\t\t/* eslint-enable */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Rnd\r\n\r\n\t\t\tsize={layoutElement.size}\r\n\t\t\tposition={layoutElement.pos}\r\n\r\n\t\t\tdisableDragging={true}\r\n\r\n\t\t\tenableResizing={{\r\n\t\t\t\tbottom: false,\r\n\t\t\t\tbottomLeft: false,\r\n\t\t\t\tbottomRight: false,\r\n\t\t\t\tleft: false,\r\n\t\t\t\tright: false,\r\n\t\t\t\ttop: false,\r\n\t\t\t\ttopLeft: false,\r\n\t\t\t\ttopRight: false,\r\n\t\t\t}}\r\n\r\n\t\t\tstyle={\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t>\r\n\t\t\t<div style={{\r\n\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tdisplay: 'inline',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\ttop: '0',\r\n\t\t\t\tleft: '0',\r\n\t\t\t\tbottom: '0',\r\n\t\t\t\tright: '0'\r\n\t\t\t}} />\r\n\r\n\t\t\t{elementSwitcher()}\r\n\t\t</Rnd >\r\n\t)\r\n}\r\n\r\nexport default inject('records')(observer(DynamicDragBox))","import React from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { getTemplate, setScreen, getRecord } from '../data'\r\nimport DynamicDragBox from './DynamicDragBox'\r\n\r\n\r\nconst EditRecord = () => {\r\n\r\n\tconst gotoShowRecord = () => setScreen('showRecord')\r\n\tconst gotoList = () => setScreen('list')\r\n\r\n\tconst getContent = (key) => {\r\n\t\tlet content\r\n\t\tlet fill = getRecord().fill[key]\r\n\t\tif (fill) {\r\n\t\t\tcontent = fill.content\r\n\t\t}\r\n\t\treturn content\r\n\t}\r\n\r\n\tconst loopLayout = () => Object.keys(getTemplate().layout).map(key => {\r\n\t\tlet content = getContent(key)\r\n\t\treturn (\r\n\t\t\t<DynamicDragBox\r\n\t\t\t\tkey={key}\r\n\t\t\t\tfillItemId={key}\r\n\t\t\t\tcontent={content}\r\n\t\t\t/>\r\n\t\t)\r\n\t})\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\r\n\t\t\t<button onClick={gotoShowRecord}>Back</button>\r\n\t\t\t<button onClick={gotoList}>Go to List</button>\r\n\r\n\t\t\t{loopLayout()}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('records')(observer(EditRecord))\r\n","import React, { useState } from 'react'\r\nimport firebase from './firebase'\r\nimport { setScreen } from './data'\r\n\r\nconst Login = () => {\r\n\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst signIn = async () => {\r\n\t\tlet error = await firebase.signInWithEmailAndPassword(email, password, setLoading)\r\n\t\tif (error) {\r\n\t\t\talert(error.message)\r\n\t\t} else {\r\n\t\t\tsetScreen('list')\r\n\t\t}\r\n\t}\r\n\r\n\tconst register = async () => {\r\n\t\tlet error = await firebase.createUserWithEmailAndPassword(email, password, setLoading)\r\n\t\tif (error) {\r\n\t\t\talert(error.message)\r\n\t\t} else {\r\n\t\t\tsetScreen('list')\r\n\t\t}\r\n\t}\r\n\r\n\tconst submitDenial = (e) => e.preventDefault() && false\r\n\tconst emailInputChange = (e) => setEmail(e.target.value)\r\n\tconst passwordInputChange = (e) => setPassword(e.target.value)\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Login or register</h1>\r\n\t\t\t<form onSubmit={submitDenial}>\r\n\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t<input id=\"email\" name=\"email\" value={email} onChange={emailInputChange} />\r\n\t\t\t\t<label>Password</label>\r\n\t\t\t\t<input name=\"password\" type=\"password\" id=\"password\" value={password} onChange={passwordInputChange} />\r\n\r\n\t\t\t\t<button onClick={signIn}>Sign in</button>\r\n\t\t\t\t<button onClick={register}>Register</button>\r\n\t\t\t</form>\r\n\t\t\t{\r\n\t\t\t\tloading && <div className=\"loader\">Loading</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login","import React, { useState, useEffect } from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport firebase from './firebase'\r\nimport { setScreen } from './data'\r\n\r\n\r\nimport List from './List'\r\nimport ShowRecord from './ShowRecord/ShowRecord'\r\nimport EditTemplate from './EditTemplate/EditTemplate'\r\nimport EditRecord from './EditRecord/EditRecord'\r\nimport Login from './Login'\r\n\r\nconst Router = ({ screen }) => {\r\n\r\n\r\n\tconst initFirebase = async () => {\r\n\r\n\t\tfirebase.auth.onAuthStateChanged(user => {\r\n\t\t\tif (user) {\r\n\t\t\t\tfirebase.updateCollection()\r\n\t\t\t\tsetScreen('list')\r\n\t\t\t} else {\r\n\t\t\t\tsetScreen('login')\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tinitFirebase()\r\n\t}, [])\r\n\r\n\tconst screenSwitch = () => {\r\n\t\t/* eslint-disable */\r\n\t\tswitch (screen.get()) {\r\n\t\t\tcase 'loading':\r\n\t\t\t\treturn <div className=\"loader\">Loading</div>\r\n\t\t\tcase 'login':\r\n\t\t\t\treturn <Login />\r\n\t\t\tcase 'list':\r\n\t\t\t\treturn <List />\r\n\t\t\tcase 'showRecord':\r\n\t\t\t\treturn <ShowRecord />\r\n\t\t\tcase 'editTemplate':\r\n\t\t\t\treturn <EditTemplate />\r\n\t\t\tcase 'editRecord':\r\n\t\t\t\treturn <EditRecord />\r\n\t\t\tdefault:\r\n\t\t\t\talert('Router error')\r\n\t\t\t\treturn <List />\r\n\t\t}\r\n\t\t/* eslint-enable */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\tscreenSwitch()\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('screen')(observer(Router))\r\n","import React from 'react'\nimport './App.css'\nimport { Provider } from 'mobx-react'\nimport { templates, records, screen, settings } from './data'\nimport Router from './Router'\n\nconst App = () => {\n\treturn (\n\t\t<Provider {...{ templates, records, screen, settings }}>\n\t\t\t<Router />\n\t\t</Provider>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}
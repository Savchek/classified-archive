{"version":3,"sources":["components/data.js","components/firebase.js","components/List.jsx","components/ShowRecord/StaticDragBox.jsx","components/ShowRecord/ShowRecord.jsx","components/EditTemplate/DynamicDragBox.jsx","components/EditTemplate/ActionPanel.jsx","components/EditTemplate/AddingPanel.jsx","components/EditTemplate/EditTemplate.jsx","components/EditRecord/DynamicDragBox.jsx","components/EditRecord/EditRecord.jsx","components/Login.jsx","components/Router.jsx","components/App.jsx","index.js"],"names":["generateID","Math","random","toString","substr","imageFitTypes","screen","observable","box","setScreen","location","set","templates","id","name","layout","type","size","width","height","pos","x","y","zIndex","fit","setSize","layoutID","chosenTemplate","this","setPos","editTemplateElementName","value","setImageFitType","fitType","action","records","parentID","nameChained","fill","content","editRecordField","fillItemId","get","chosenRecord","getTemplate","toJS","getRecord","chooseTemplate","templateID","createNewRecord","chosenTemplateId","template","Object","values","forEach","e","layoutElements","length","layoutTextboxes","filter","getFirstTextbox","updPos","recordID","getLayoutItem","layoutItemID","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","initializeApp","auth","db","firestore","displayName","user","currentUser","updateProfile","error","alert","console","log","email","password","setLoading","signInWithEmailAndPassword","provider","GoogleAuthProvider","signInWithPopup","result","credential","accessToken","signOut","createUserWithEmailAndPassword","collection","doc","uid","products","sells","pastSells","data","update","FieldValue","arrayUnion","updateCollection","arrayRemove","inject","observer","useState","templateId","setTemplateId","useEffect","firstTemplateId","keys","logout","a","firebase","onClick","onChange","target","map","key","newTemplateId","createNewTemplate","style","paddingTop","display","justifyContent","padding","cursor","border","marginBottom","backgroundColor","StaticDragBox","layoutId","layoutElement","position","alignItems","disableDragging","enableResizing","bottom","bottomLeft","bottomRight","left","right","top","topLeft","topRight","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","elementSwitcher","getContent","active","setActiveHandle","onDragStop","onResizeStop","_direction","ref","delta","updSize","onMouseDown","onResize","bounds","pointerEvents","margin","outline","color","resize","textAlignLast","readOnly","onDoubleClick","select","ActionPanel","setActive","styleSheet","deleteItem","conf","window","confirm","chosenTemplateID","k","deleteLayoutItem","pickImageFitType","changeImageFitType","layoutItem","imageFitTypeSwitch","generateMenu","AddingPanel","boxNames","boxData","setBoxData","obj","i","parentNode","clientWidth","createdItemId","layoutItemType","newItem","recordGroupID","addLayoutItem","activeId","stopPropagation","flexDirection","className","background","Login","setEmail","setPassword","loading","signIn","message","register","onSubmit","preventDefault","initFirebase","onAuthStateChanged","screenSwitch","App","ReactDOM","render","document","getElementById"],"mappings":"iRAEMA,EAAa,kBAAMC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,IAEjDC,EAAgB,CAAC,QAAS,UAAW,QAErCC,EAASC,IAAWC,IAAI,WACxBC,EAAY,SAACC,GAAD,OAAcJ,EAAOK,IAAID,IAErCE,EAAYL,YACxB,CACC,KAAQ,CACPM,GAAI,OACJC,KAAM,MACNC,OAAQ,CACP,MAAS,CACRF,GAAI,QACJG,KAAM,eACNF,KAAM,MACNG,KAAM,CACLC,MAAO,OACPC,OAAQ,QAETC,IAAK,CACJC,EAAG,IACHC,EAAG,IAEJC,OAAQ,GAET,MAAS,CACRV,GAAI,QACJG,KAAM,QACNF,KAAM,OACNG,KAAM,CACLC,MAAO,OACPC,OAAQ,QAETC,IAAK,CACJC,EAAG,GACHC,EAAG,KAEJC,OAAQ,GAET,MAAS,CACRV,GAAI,QACJG,KAAM,QACNF,KAAM,QACNG,KAAM,CACLC,MAAO,OACPC,OAAQ,QAETC,IAAK,CACJC,EAAG,GACHC,EAAG,KAEJC,OAAQ,GAET,MAAS,CACRV,GAAI,QACJG,KAAM,UACNC,KAAM,CACLC,MAAO,OACPC,OAAQ,QAETC,IAAK,CACJC,EAAG,IACHC,EAAG,KAEJC,OAAQ,GAET,MAAS,CACRV,GAAI,QACJG,KAAM,UACNC,KAAM,CACLC,MAAO,OACPC,OAAQ,QAETC,IAAK,CACJC,EAAG,IACHC,EAAG,KAEJC,OAAQ,GAET,MAAS,CACRV,GAAI,QACJG,KAAM,QACNQ,IAAK,QACLP,KAAM,CACLC,MAAO,QACPC,OAAQ,SAETC,IAAK,CACJC,EAAG,GACHC,EAAG,KAEJC,OAAQ,KAIXE,QAzFD,SAyFSC,EAAUT,IACO,IAApBU,IACHC,KAAKD,GAAgBZ,OAAOW,GAAUT,KAAOA,IAG/CY,OA9FD,SA8FQH,EAAUN,IACQ,IAApBO,IACHC,KAAKD,GAAgBZ,OAAOW,GAAUN,IAAMA,IAG9CU,wBAnGD,SAmGyBJ,EAAUK,GACjCH,KAAKD,GAAgBZ,OAAOW,GAAUZ,KAAOiB,EACM,iBAA/CH,KAAKD,GAAgBZ,OAAOW,GAAUV,OACzCY,KAAKD,GAAgBb,KAAOiB,IAG9BC,gBAzGD,SAyGiBN,EAAUO,GACzBL,KAAKD,GAAgBZ,OAAOW,GAAUF,IAAMS,IAG9C,CACCR,QAASS,IACTL,OAAQK,IACRJ,wBAAyBI,IACzBF,gBAAiBE,MAINC,EAAU5B,YACtB,CACC,KAAQ,CAEP,IAAO,CACNM,GAAI,MAEJuB,SAAU,OACVtB,KAAM,OACNuB,YAAa,QACbC,KAAM,CACL,MAAS,CAERzB,GAAI,QACJ0B,QAAS,QAEV,MAAS,CAER1B,GAAI,QACJ0B,QAAS,WAEV,MAAS,CAER1B,GAAI,QACJ0B,QAAS,oFAIZ,IAAO,CACN1B,GAAI,MACJuB,SAAU,OACVtB,KAAM,SACNuB,YAAa,QACbC,KAAM,CACL,MAAS,CACRzB,GAAI,QACJ0B,QAAS,UAEV,MAAS,CAER1B,GAAI,QACJ0B,QAAS,WAEV,MAAS,CAER1B,GAAI,QACJ0B,QAAS,sEAKbC,gBAlDD,SAkDiBC,EAAYV,GAC3BH,KAAKD,EAAee,OAAOC,EAAaD,OAAOJ,KAAKG,GAAYF,QAAUR,EAEtEH,KAAKD,EAAee,OAAOC,EAAaD,OAAOL,cAAgBI,IAClEb,KAAKD,EAAee,OAAOC,EAAaD,OAAO5B,KAAOiB,KAIzD,CACCS,gBAAiBN,MAINP,EAAiBpB,IAAWC,KAAK,GACjCmC,EAAepC,IAAWC,KAAK,GAE/BoC,EAAc,WAC1B,OAAOC,YAAKjC,EAAUe,EAAee,SAGzBI,EAAY,WACxB,OAAOD,YAAKV,EAAQR,EAAee,OAAOC,EAAaD,SAG3CK,EAAiB,SAACC,GAC9BrB,EAAehB,IAAIqC,IA6DPC,EAAkB,WAC9B,IAAIC,EAAmBvB,EAAee,MAClC7B,EAAKb,IACLmD,EAAWP,IAGVT,EAAQe,KACZf,EAAQe,GAAoB,IAG7B,IAAIZ,EAAO,GAEXc,OAAOC,OAAOF,EAASpC,QAAQuC,SAAQ,SAAAC,GACvB,iBAAXA,EAAEvC,MAAsC,UAAXuC,EAAEvC,OAClCsB,EAAKiB,EAAE1C,IAAM,CACZA,GAAI0C,EAAE1C,GACN0B,QAAS,mBAeZJ,EAAQe,GAAkBrC,GAAM,CAC/BA,KACAuB,SAAUc,EACVpC,KAAM,wBAA0BqC,EAASrC,KACzCuB,YAduB,WACvB,IAAImB,EAAiBJ,OAAOC,OAAOF,EAASpC,QAC5C,GAAIyC,EAAeC,OAAS,EAAG,OAAQ,EAEvC,IAAIC,EAAkBF,EAAeG,QAAO,SAAAJ,GAAC,MAAe,YAAXA,EAAEvC,QACnD,OAAI0C,EAAgBD,OAAS,GAAW,EAEjCC,EAAgB,GAAG7C,GAOb+C,GACbtB,SAcWuB,EAAS,SAACnC,EAAUN,GAChCR,EAAUiB,OAAOH,EAAUN,IAOfoB,EAAkB,SAACd,EAAUoC,EAAU/B,GACnDI,EAAQK,gBAAgBd,EAAUoC,EAAU/B,IAGhCgC,EAAgB,SAACC,GAC7B,OAAOpB,IAAc7B,OAAOiD,I,uDCjUvBC,G,YAAiB,CACtBC,OAAQC,0CACRC,WAAYD,qCACZE,YAAaF,4CACbG,UAAWH,qBACXI,cAAeJ,iCACfK,kBAAmBL,eACnBM,MAAON,8CAyHO,M,WAnHd,aAAe,oBACdO,IAAIC,cAAcV,GAClBrC,KAAKgD,KAAOF,IAAIE,OAChBhD,KAAKiD,GAAKH,IAAII,Y,2GAGaC,G,uEAGrBC,EAAOpD,KAAKgD,KAAKK,YACvB,IACCD,EAAKE,cAAc,CAAEH,gBAEtB,MAAOI,GACNC,MAAM,kCACNC,QAAQC,IAAIH,G,iMAImBI,EAAOC,EAAUC,G,iFAEhDA,GAAW,G,SACL7D,KAAKgD,KAAKc,2BAA2BH,EAAOC,G,8DAGlDC,GAAW,GACXJ,QAAQC,IAAR,M,0DAGM,G,qRAIHK,EAAW,IAAI/D,KAAKgD,KAAKgB,mB,kBAGbhE,KAAKgD,OAAOiB,gBAAgBF,G,OAA3CG,E,OAEYA,EAAOC,WAAWC,YAEnBF,EAAOd,K,gDAIlBI,MAAM,4BACNC,QAAQC,IAAR,M,kRAOM1D,KAAKgD,KAAKqB,U,sDAGhBb,MAAM,kBACNC,QAAQC,IAAR,M,4MAImCC,EAAOC,EAAUC,G,iFAEpDA,GAAW,G,SACL7D,KAAKgD,KAAKsB,+BAA+BX,EAAOC,G,uBAChD5D,KAAKiD,GAAGsB,WAAW,SAASC,IAAIxE,KAAKgD,KAAKK,YAAYoB,KAAK1F,IAAI,CACpE2F,SAAU,GACVC,MAAO,GACPC,UAAW,K,8DAIZf,GAAW,G,0DAGL,G,sSAKmB7D,KAAKiD,GAAGsB,WAAW,SAASC,IAAIxE,KAAKgD,KAAKK,YAAYoB,KAAK3D,M,OAA9EyD,E,OACNvE,KAAKuE,WAAaA,EAAWM,O,gDAG7BrB,MAAM,gCACNC,QAAQC,IAAR,M,sLAIYmB,G,0FAEN7E,KAAKiD,GAAGsB,WAAW,SAASC,IAAIxE,KAAKgD,KAAKK,YAAYoB,KAAKK,OAAO,CACvEJ,SAAU5B,IAAII,UAAU6B,WAAWC,WAAWH,K,sDAI/CrB,MAAM,kBACNC,QAAQC,IAAR,M,wBAEK1D,KAAKiF,mB,0LAGKJ,G,0FAET7E,KAAKiD,GAAGsB,WAAW,SAASC,IAAIxE,KAAKgD,KAAKK,YAAYoB,KAAKK,OAAO,CACvEJ,SAAU5B,IAAII,UAAU6B,WAAWG,YAAYL,K,sDAIhDrB,MAAM,qBACNC,QAAQC,IAAR,M,wBAEK1D,KAAKiF,mB,+HCpBEE,cAAO,YAAa,UAApBA,CAA+BC,aAxGjC,SAAC,GAA4B,IAA1BpG,EAAyB,EAAzBA,UAAWuB,EAAc,EAAdA,QAAc,EAEJ8E,oBAAU,GAFN,mBAEjCC,EAFiC,KAErBC,EAFqB,KAIxCC,qBAAU,WACT,IAAIC,EAAkB1F,EAAee,OACZ,IAArB2E,EACHF,EAAcE,IAEdA,EAAkBjE,OAAOkE,KAAK1G,GAAW,MAExCuG,EAAcE,GACdtE,EAAesE,MAGf,CAACzG,IAEJ,IAcM2G,EAAM,uCAAG,sBAAAC,EAAA,sEACRC,EAASxB,UADD,OAEdxF,EAAU,SAFI,2CAAH,qDAQZ,OACC,6BACC,4BAAQiH,QAASH,GAAjB,WAEiB,IAAhBL,EACC,mDAEA,6BACC,4BAAQS,SA1BQ,SAACpE,GACrB4D,EAAc5D,EAAEqE,OAAO7F,OACvBgB,EAAeQ,EAAEqE,OAAO7F,QAwBYA,MAAOmF,GAErC9D,OAAOkE,KAAK1G,GAAWiH,KAAI,SAAAC,GAAG,OAC7B,4BACCA,IAAKA,EACL/F,MAAO+F,GAENlH,EAAUkH,GAAKhH,UAMpB,4BAAQ4G,QA3CY,WACxBjH,EAAU,kBA0CN,iBAEA,4BAAQiH,QApCU,WACtB,IAAIK,EFiL2B,WAChC,IAAIlH,EAAKb,IAkDT,OAjDAY,EAAUC,GAAM,CACfA,KACAC,KAAM,eACNC,OAAQ,CACP,EAAK,CACJF,GAAI,IACJG,KAAM,eACNF,KAAM,eACNG,KAAM,CACLC,MAAO,QACPC,OAAQ,QAETC,IAAK,CACJC,EAAG,IACHC,EAAG,IAEJC,OAAQ,GAET,EAAK,CACJV,GAAI,IACJG,KAAM,QACNF,KAAM,gBACNG,KAAM,CACLC,MAAO,OACPC,OAAQ,QAETC,IAAK,CACJC,EAAG,GACHC,EAAG,KAEJC,OAAQ,GAET,EAAK,CACJV,GAAI,IACJG,KAAM,UACNC,KAAM,CACLC,MAAO,QACPC,OAAQ,QAETC,IAAK,CACJC,EAAG,IACHC,EAAG,KAEJC,OAAQ,KAIXwB,EAAelC,GACfoC,IACOpC,EEpOcmH,GACpBb,EAAcY,KAkCV,uBAEA,4BAAQL,QAASzE,GAAjB,cAGCd,EAAQ+E,GACP9D,OAAOkE,KAAKnF,EAAQ+E,IAAaW,KAAI,SAAAC,GAAG,OAEvC,yBACCG,MAAO,CAAEC,WAAY,QACrBJ,IAAKA,EACLJ,QAAS,WF+HS,IAAC5D,IE9HLgE,EF+HvBnF,EAAahC,IAAImD,GE9HPrD,EAAU,gBAIX,yBACCwH,MAAO,CACNE,QAAS,OACTC,eAAgB,eAChBC,QAAS,OACTC,OAAQ,UACRC,OAAQ,kBACRC,aAAc,OACdC,gBAAiB,6BAGjBtG,EAAQ+E,GAAYY,GAAKhH,UAK7B,qD,OCnCO4H,EA9DO,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,SAAUpG,EAAc,EAAdA,QAE9BqG,EAAgBhG,IAAc7B,OAAO4H,GA2BzC,OACC,kBAAC,IAAD,CAEC1H,KAAM2H,EAAc3H,KACpB4H,SAAUD,EAAcxH,IAExB6G,MAAO,CACNE,QAAS,OACTW,WAAY,SACZV,eAAgB,UAGjBW,iBAAiB,EAEjBC,eAAgB,CACfC,QAAQ,EACRC,YAAY,EACZC,aAAa,EACbC,MAAM,EACNC,OAAO,EACPC,KAAK,EACLC,SAAS,EACTC,UAAU,IA/CW,WAEvB,OAAQZ,EAAc5H,MACrB,IAAK,UACJ,OAAO,2BAAIuB,GACZ,IAAK,eACJ,OAAO,2BAAIqG,EAAc9H,MAC1B,IAAK,QACJ,OAAO,2BAAI8H,EAAc9H,KAAlB,KACR,IAAK,QACJ,OAAO,yBACNmH,MAAO,CACN/G,MAAO,OACPC,OAAQ,OACRsI,gBAAgB,OAAD,OAASlH,EAAT,KACfmH,mBAAoB,SACpBC,eAAgBf,EAAcpH,IAC9BoI,iBAAkB,YAClBrB,OAAQ,sBAkCVsB,KCLW9C,cAAO,YAAPA,CAAoBC,aAjDhB,WAoClB,OACC,6BAEC,4BAAQU,QAvBO,WAChBjH,EAAU,UAsBT,QACA,4BAAQiH,QA5Ba,WACtBjH,EAAU,gBA2BT,eAnBM2C,OAAOkE,KAAK1E,IAAc7B,QAAQ8G,KAAI,SAAAC,GAC5C,IAAIvF,EAnBa,SAACuF,GACnB,IAAIvF,GAAU,EACVD,EAAOQ,IAAYR,KAAKwF,GAI5B,OAHIxF,IACHC,EAAUD,EAAKC,SAETA,EAaQuH,CAAWhC,GACzB,OACC,kBAAC,EAAD,CACCA,IAAKA,EACLa,SAAUb,EACVvF,QAASA,YCgFCwE,cAAO,YAAPA,CAAoBC,aA5GZ,SAAC,GAA2C,IAAzC2B,EAAwC,EAAxCA,SAAUoB,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,gBAEvCpB,EAAgBhG,IAAc7B,OAAO4H,GAyDzC,OACC,kBAAC,IAAD,CAEC1H,KAAM2H,EAAc3H,KACpB4H,SAAUD,EAAcxH,IAExB6I,WACC,SAAC1G,EAAGnC,GAAJ,OAAwB,IAAZ2I,GAAiBlG,EAAO+E,EAAc/H,GAAIO,IAEvD8I,aACC,SAAC3G,EAAG4G,EAAYC,EAAKC,EAAOjJ,GAA5B,OAAgD,IAAZ2I,GLsOjB,SAACrI,EAAUN,EAAKgJ,GACtC,IAAInJ,EAAO,CACVC,MAAOkJ,EAAInC,MAAM/G,MACjBC,OAAQiJ,EAAInC,MAAM9G,QAEnBP,EAAUa,QAAQC,EAAUT,GAE5B4C,EAAOnC,EAAUN,GK7OuCkJ,CAAQ1B,EAAc/H,GAAIO,EAAKgJ,IAErFG,YACC,SAAAhH,GAAC,OAAIyG,EAAgBzG,EAAGqF,EAAc/H,KAEvC2J,SACC,SAAAjH,GAAC,OAAIyG,EAAgBzG,EAAGqF,EAAc/H,KAGvC4J,OAAQ,kBAERxC,MACC,CACCE,QAAS,OACTW,WAAY,SACZV,eAAgB,WAKlB,yBAAKH,MAAO,CACXyC,cAAe,OACf7B,SAAU,WACVV,QAAS,SACTjH,MAAO,OACPC,OAAQ,OACRmI,IAAK,IACLF,KAAM,IACNH,OAAQ,IACRI,MAAO,IACPd,OAASwB,IAAWnB,EAAc/H,GAAK,6BAA+B,+BACtE4H,gBAAkBsB,IAAWnB,EAAc/H,GAAK,0BAA4B,+BAhGvD,WAEvB,OAAQ+H,EAAc5H,MACrB,IAAK,UACJ,OAAO,8BACNiH,MAAO,CACN0C,OAAQ,IACRtC,QAAS,IACTnH,MAAO,OACPC,OAAQ,OACRoH,OAAQ,OACRqC,QAAS,OACTC,MAAO,OACPC,OAAQ,OACRC,cAAe,SACftC,gBAAiB,eAElBuC,UAAU,EACVjJ,MAAM,YAER,IAAK,QACL,IAAK,eACJ,OAAO,8BACNkG,MAAO,CACN0C,OAAQ,IACRtC,QAAS,IACTnH,MAAO0H,EAAc3H,KAAKC,MAC1BC,OAAQyH,EAAc3H,KAAKE,OAC3B4J,cAAe,SACfxC,OAAQ,OACRqC,QAAS,OACTC,MAAO,QACPC,OAAQ,OACRrC,gBAAiB,eAElB1G,MAAO6G,EAAc9H,KACrB6G,SAAU,SAACpE,GAAD,OLiRyB7B,EKjRMiH,ELiRI5G,EKjRMwB,EAAEqE,OAAO7F,WLkRhEnB,EAAUkB,wBAAwBJ,EAAUK,GADN,IAACL,EAAUK,GKhR7CkJ,cAAe,SAAA1H,GAAC,OAAIA,EAAEqE,OAAOsD,YAE/B,IAAK,QACJ,OAAO,yBACNjD,MAAO,CACN/G,MAAO,OACPC,OAAQ,OACRsI,gBAAiB,wFACjBC,mBAAoB,SACpBC,eAAgBf,EAAcpH,IAC9BoI,iBAAkB,YAClBrB,OAAQ,sBAmDVsB,QC1CWsB,EA9DK,SAAC,GAA6C,IAA3CnH,EAA0C,EAA1CA,aAAcoH,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,WAEzCC,EAAa,WAClB,IAAIC,GAAO,EAE8B,YAArCxH,EAAcC,GAAchD,OAC/BuK,EAAOC,OAAOC,QAAQ,iDAGlBF,KNqWyB,SAACvH,GAEhC,IAAI0H,EAAmB/J,EAAee,aAE/B9B,EAAU8K,GAAkB3K,OAAOiD,GAG1CZ,OAAOkE,KAAKnF,EAAQuJ,IAAmB7D,KAAI,SAAAtE,GAC1CH,OAAOkE,KAAKnF,EAAQuJ,GAAkBnI,GAAGjB,MAAMuF,KAAI,SAAA8D,GAC9CA,IAAM3H,UACF7B,EAAQuJ,GAAkBnI,GAAGjB,KAAKqJ,SM7W3CC,CAAiB5H,GACjBoH,GAAW,KAGNS,EAAmB,SAACtI,IN+WO,SAACS,EAAc/B,GAEA,UAA5CW,IAAc7B,OAAOiD,GAAchD,KAIvCJ,EAAUoB,gBAAgBgC,EAAc/B,GAHvCoD,QAAQC,IAAI,2DMjXZwG,CAAmB9H,EAAcT,EAAEqE,OAAO7F,QAmC3C,OACC,yBAAKkG,MAAOoD,IAEQ,IAAlBrH,EACC,oDArBiB,WAEpB,IAAI+H,EAAahI,EAAcC,GAE/B,OACC,6BACC,2BAAI+H,EAAW/K,MAEM,iBAApB+K,EAAW/K,MAA2B,4BAAQ0G,QAAS4D,GAAjB,oBAGlB,UAApBS,EAAW/K,MA1BY,SAAC+K,GAAD,OAC1B,4BAAQpE,SAAUkE,EAAkB9J,MAAOgK,EAAWvK,KAEpDnB,EAAcwH,KAAI,SAAAtE,GAAC,OAEjB,4BAAQuE,IAAKvE,EAAGxB,MAAOwB,GACrBA,OAoB4ByI,CAAmBD,IAWlDE,KCSUC,EAhEK,SAAC,GAA+B,IAA7Bb,EAA4B,EAA5BA,WAAYD,EAAgB,EAAhBA,UAI9Be,EAAW,CAAC,QAAS,UAAW,SAJc,EAMpBlF,mBAAS,IANW,mBAM3CmF,EAN2C,KAMlCC,EANkC,KAiBlD,OATAjF,qBAAU,WACT,IAAIkF,EAAM,GACVH,EAAS7I,SAAQ,SAACC,EAAGgJ,GAAJ,OAAUD,EAAI/I,GAAK,CACnClC,EAAG,GACHC,EAVc,GAUXiL,EATgB,IASkBA,EAAI,OAE1CF,EAAWC,KACT,IAGF,yBAAKrE,MAAOoD,GAGVjI,OAAOkE,KAAK8E,GAASvE,KAAI,SAAA8D,GACxB,OACC,kBAAC,IAAD,CACC7D,IAAK6D,EACL9C,SAAUuD,EAAQT,GAClB1K,KAAM,CAAEC,MAAO,OAAQC,OAxBb,IAyBV6H,gBAAgB,EAEhBiB,WACC,SAAC1G,EAAGnC,GAEH,KAAIA,EAAIC,GAAK,GAAb,CAGA,IACIwH,EAAW,CAAExH,EADTkC,EAAEqE,OAAO4E,WAAWA,WAAWC,YAAcrL,EAAIC,EAAIkC,EAAEqE,OAAO4E,WAAWC,YAC7DnL,EAAGF,EAAIE,GACvBoL,EPgSgB,SAACC,EAAgBvL,GAC7C,IAAIsK,EAAmB/J,EAAee,MAClC7B,EAAKb,IAEL4M,EAAU,CACb/L,KACAG,KAAM2L,EACN7L,KAAM,OAAS6L,EACf1L,KAAM,CAAEC,MAAO,OAAQC,OAAQ,QAC/BC,MACAG,OAAQ,GAWT,GARuB,UAAnBoL,IACHC,EAAQ3L,KAAKC,MAAQ,QACrB0L,EAAQ3L,KAAKE,OAAS,QACtByL,EAAQpL,IAAM,SAGfZ,EAAU8K,GAAkB3K,OAAOF,GAAM+L,EAElB,iBAAnBD,GAAwD,UAAnBA,EACxC,OAAO9L,EAGR,IAAImC,EAAarB,EAAee,MAYhC,OAVAU,OAAOkE,KAAKnF,GAASmB,SAAQ,SAAAuJ,GACxBA,IAAkB7J,GACrBI,OAAOkE,KAAKnF,EAAQ0K,IAAgBvJ,SAAQ,SAAAQ,GAC3C3B,EAAQ0K,GAAe/I,GAAUxB,KAAKzB,GAAM,CAC3CA,KACA0B,QAAS,OAASoK,SAKf9L,EOrUqBiM,CAAcnB,EAAG9C,GACrCuC,EAAUsB,KAIZzE,MACC,CACCE,QAAS,OACTW,WAAY,SACZV,eAAgB,SAChBG,OAAQ,mBAKToD,QC0CO5E,cAAO,YAAPA,CAAoBC,aA3Fd,WAAO,IAAD,EAEEC,oBAAU,GAFZ,mBAEnB8C,EAFmB,KAEXqB,EAFW,KAKpBpB,EAAkB,SAACzG,EAAGwJ,GACvBhD,IAAWgD,IACfxJ,EAAEyJ,kBACF5B,EAAU2B,KAmBX,OACC,yBAAK9E,MAAO,CACXE,QAAS,OACT8E,cAAe,SACf9L,OAAQ,QACRD,MAAO,UAIP,yBAAK+G,MAAO,CACXE,QAAS,OACThH,OAAQ,OACRD,MAAO,UAGP,yBACCgM,UAAU,iBACVjF,MAAO,CACNM,OAAQ,iBACRrH,MAAO,OACPC,OAAQ,UACRsH,gBAAiB,6BAGlB,4BAAQf,QAxCK,kBAAMjH,EAAU,UAwC7B,cArCI2C,OAAOkE,KAAK1E,IAAc7B,QAAQ8G,KAAI,SAAAC,GAC5C,OACC,kBAAC,EAAD,CACCA,IAAKA,EACLa,SAAUb,EACViC,OAAQA,EACRC,gBAAiBA,QAoClB,kBAAC,EAAD,CACCoB,UAAWA,EACXC,WAAY,CACXnK,MAAO,OACPC,OAAQ,UACRsH,gBAAiB,2BACjBF,OAAQ,kBACRM,SAAU,QACVQ,MAAO,IACPC,IAAK,IACLnB,QAAS,OACT8E,cAAe,SACfnE,WAAY,aAMf,kBAAC,EAAD,CACC9E,aAAc+F,EACdqB,UAAWA,EACXC,WAAY,CACXlK,OAAQ,OACRD,MAAO,QACPuH,gBAAiB,2BACjBF,OAAQ,gBACRM,SAAU,QACVI,OAAQ,Y,QCsCElC,cAAO,UAAPA,CAAkBC,aA5HV,SAAC,GAA6B,IAA3BvE,EAA0B,EAA1BA,WAAYF,EAAc,EAAdA,QAEjCqG,EAAgBhG,IAAc7B,OAAO0B,GA6EzC,OACC,kBAAC,IAAD,CAECxB,KAAM2H,EAAc3H,KACpB4H,SAAUD,EAAcxH,IAExB2H,iBAAiB,EAEjBC,eAAgB,CACfC,QAAQ,EACRC,YAAY,EACZC,aAAa,EACbC,MAAM,EACNC,OAAO,EACPC,KAAK,EACLC,SAAS,EACTC,UAAU,GAGXvB,MACC,CACCE,QAAS,OACTW,WAAY,SACZV,eAAgB,WAKlB,yBAAKH,MAAO,CACXyC,cAAe,OACf7B,SAAU,WACVV,QAAS,SACTjH,MAAO,OACPC,OAAQ,OACRmI,IAAK,IACLF,KAAM,IACNH,OAAQ,IACRI,MAAO,OAhHc,WAEvB,OAAQT,EAAc5H,MACrB,IAAK,UACJ,OAAO,8BACNiH,MAAO,CACN0C,OAAQ,IACRtC,QAAS,IACTnH,MAAO,OACPC,OAAQ,OACRoH,OAAQ,OACRqC,QAAS,OACTC,MAAO,QACPpC,gBAAiB,qBACjBqC,OAAQ,OACRC,cAAe,UAEhBhJ,MAAOQ,EACPoF,SAAU,SAACpE,GAAD,OAAOf,EAAgBC,EAAYc,EAAEqE,OAAO7F,QACtDkJ,cAAe,SAAA1H,GAAC,OAAIA,EAAEqE,OAAOsD,YAG/B,IAAK,eACL,IAAK,QACJ,OAAO,8BACNjD,MAAO,CACN0C,OAAQ,IACRtC,QAAS,IACTnH,MAAO0H,EAAc3H,KAAKC,MAC1BC,OAAQyH,EAAc3H,KAAKE,OAC3B4J,cAAe,SACfxC,OAAQ,OACRqC,QAAS,OACTC,MAAO,OACPpC,gBAAiB,qBACjBqC,OAAQ,OACRJ,cAAe,QAEhB3I,MAAO6G,EAAc9H,KACrBkK,UAAU,IAEZ,IAAK,QACJ,OAAO,yBACN/C,MAAO,CACNE,QAAS,OACTwC,OAAQ,IACRtC,QAAS,IACTnH,MAAO0H,EAAc3H,KAAKC,MAC1BC,OAAQyH,EAAc3H,KAAKE,OAC3B2H,WAAY,SACZW,gBAAgB,OAAD,OAASlH,EAAT,KACfmH,mBAAoB,SACpBC,eAAgBf,EAAcpH,IAC9BoI,iBAAkB,YAClBrB,OAAQ,oBAGT,2BACCN,MAAK,aACJ/G,MAAO0H,EAAc3H,KAAKC,MAC1BqH,OAAQ,OACRqC,QAAS,OACTuC,WAAY,4BAJR,SAKI,mBAGTpL,MAAOQ,EACPoF,SAAU,SAACpE,GAAD,OAAOf,EAAgBC,EAAYc,EAAEqE,OAAO7F,QACtDkJ,cAAe,SAAA1H,GAAC,OAAIA,EAAEqE,OAAOsD,cA+C/BrB,QChFW9C,cAAO,UAAPA,CAAkBC,aAtCd,WA0BlB,OACC,6BAEC,4BAAQU,QA3Ba,kBAAMjH,EAAU,gBA2BrC,QACA,4BAAQiH,QA3BO,kBAAMjH,EAAU,UA2B/B,cAhBuB2C,OAAOkE,KAAK1E,IAAc7B,QAAQ8G,KAAI,SAAAC,GAC9D,IAAIvF,EAVc,SAACuF,GACnB,IAAIvF,EACAD,EAAOQ,IAAYR,KAAKwF,GAI5B,OAHIxF,IACHC,EAAUD,EAAKC,SAETA,EAIOuH,CAAWhC,GACzB,OACC,kBAAC,EAAD,CACCA,IAAKA,EACLrF,WAAYqF,EACZvF,QAASA,YC2BE6K,EAjDD,WAAO,IAAD,EAEOnG,mBAAS,IAFhB,mBAEZ1B,EAFY,KAEL8H,EAFK,OAGapG,mBAAS,IAHtB,mBAGZzB,EAHY,KAGF8H,EAHE,OAIWrG,oBAAS,GAJpB,mBAIZsG,EAJY,KAIH9H,EAJG,KAMb+H,EAAM,uCAAG,4BAAAhG,EAAA,sEACIC,EAAS/B,2BAA2BH,EAAOC,EAAUC,GADzD,QACVN,EADU,QAGbC,MAAMD,EAAMsI,SAEZhN,EAAU,QALG,2CAAH,qDASNiN,EAAQ,uCAAG,4BAAAlG,EAAA,sEACEC,EAASvB,+BAA+BX,EAAOC,EAAUC,GAD3D,QACZN,EADY,QAGfC,MAAMD,EAAMsI,SAEZhN,EAAU,QALK,2CAAH,qDAed,OACC,6BACC,iDACA,0BAAMkN,SATa,SAACpK,GAAD,OAAOA,EAAEqK,mBAAoB,IAU/C,gDACA,2BAAO/M,GAAG,QAAQC,KAAK,QAAQiB,MAAOwD,EAAOoC,SAVvB,SAACpE,GAAD,OAAO8J,EAAS9J,EAAEqE,OAAO7F,UAW/C,2CACA,2BAAOjB,KAAK,WAAWE,KAAK,WAAWH,GAAG,WAAWkB,MAAOyD,EAAUmC,SAX7C,SAACpE,GAAD,OAAO+J,EAAY/J,EAAEqE,OAAO7F,UAarD,4BAAQ2F,QAAS8F,GAAjB,WACA,4BAAQ9F,QAASgG,GAAjB,aAGAH,GAAW,yBAAKL,UAAU,UAAf,aCiBAnG,cAAO,SAAPA,CAAiBC,aApDjB,SAAC,GAAgB,IAAd1G,EAAa,EAAbA,OAGXuN,EAAY,uCAAG,sBAAArG,EAAA,sDAEpBC,EAAS7C,KAAKkJ,oBAAmB,SAAA9I,GAC5BA,GACHyC,EAASZ,mBACTpG,EAAU,SAEVA,EAAU,YAPQ,2CAAH,qDAclB2G,qBAAU,WACTyG,MACE,IAwBH,OACC,6BAvBoB,WAEpB,OAAQvN,EAAOoC,OACd,IAAK,UACJ,OAAO,yBAAKwK,UAAU,UAAf,WACR,IAAK,QACJ,OAAO,kBAAC,EAAD,MACR,IAAK,OACJ,OAAO,kBAAC,EAAD,MACR,IAAK,aACJ,OAAO,kBAAC,EAAD,MACR,IAAK,eACJ,OAAO,kBAAC,EAAD,MACR,IAAK,aACJ,OAAO,kBAAC,EAAD,MACR,QAEC,OADA9H,MAAM,gBACC,kBAAC,EAAD,OAQP2I,QC5CWC,EARH,WACX,OACC,kBAAC,IAAa,CAAEpN,YAAWuB,UAAS7B,UACnC,kBAAC,EAAD,QCJH2N,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.4a6f0fd9.chunk.js","sourcesContent":["import { observable, action, toJS } from 'mobx'\r\n\r\nconst generateID = () => Math.random().toString(36).substr(2, 9)\r\n\r\nexport const imageFitTypes = ['cover', 'contain', 'auto']\r\n\r\nexport const screen = observable.box('loading')\r\nexport const setScreen = (location) => screen.set(location)\r\n\r\nexport const templates = observable(\r\n\t{\r\n\t\t'1337': {\r\n\t\t\tid: '1337',\r\n\t\t\tname: 'Car',\r\n\t\t\tlayout: {\r\n\t\t\t\t'13370': {\r\n\t\t\t\t\tid: '13370',\r\n\t\t\t\t\ttype: 'templateName',\r\n\t\t\t\t\tname: 'Car',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '35px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 300,\r\n\t\t\t\t\t\ty: 50\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 1\r\n\t\t\t\t},\r\n\t\t\t\t'13371': {\r\n\t\t\t\t\tid: '13371',\r\n\t\t\t\t\ttype: 'label',\r\n\t\t\t\t\tname: 'Mark',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '40px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 50,\r\n\t\t\t\t\t\ty: 200\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 1\r\n\t\t\t\t},\r\n\t\t\t\t'13376': {\r\n\t\t\t\t\tid: '13376',\r\n\t\t\t\t\ttype: 'label',\r\n\t\t\t\t\tname: 'Model',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '50px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 50,\r\n\t\t\t\t\t\ty: 300\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 1\r\n\t\t\t\t},\r\n\t\t\t\t'13372': {\r\n\t\t\t\t\tid: '13372',\r\n\t\t\t\t\ttype: 'textbox',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 100,\r\n\t\t\t\t\t\ty: 200\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 2\r\n\t\t\t\t},\r\n\t\t\t\t'13373': {\r\n\t\t\t\t\tid: '13373',\r\n\t\t\t\t\ttype: 'textbox',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\t\theight: '25px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 100,\r\n\t\t\t\t\t\ty: 300\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 2\r\n\t\t\t\t},\r\n\t\t\t\t'13374': {\r\n\t\t\t\t\tid: '13374',\r\n\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\tfit: 'cover',\r\n\t\t\t\t\tsize: {\r\n\t\t\t\t\t\twidth: '300px',\r\n\t\t\t\t\t\theight: '150px'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpos: {\r\n\t\t\t\t\t\tx: 50,\r\n\t\t\t\t\t\ty: 400\r\n\t\t\t\t\t},\r\n\t\t\t\t\tzIndex: 2\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetSize(layoutID, size) {\r\n\t\t\tif (chosenTemplate !== -1) {\r\n\t\t\t\tthis[chosenTemplate].layout[layoutID].size = size\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetPos(layoutID, pos) {\r\n\t\t\tif (chosenTemplate !== -1) {\r\n\t\t\t\tthis[chosenTemplate].layout[layoutID].pos = pos\r\n\t\t\t}\r\n\t\t},\r\n\t\teditTemplateElementName(layoutID, value) {\r\n\t\t\tthis[chosenTemplate].layout[layoutID].name = value\r\n\t\t\tif (this[chosenTemplate].layout[layoutID].type === 'templateName') {\r\n\t\t\t\tthis[chosenTemplate].name = value\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetImageFitType(layoutID, fitType) {\r\n\t\t\tthis[chosenTemplate].layout[layoutID].fit = fitType\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tsetSize: action,\r\n\t\tsetPos: action,\r\n\t\teditTemplateElementName: action,\r\n\t\tsetImageFitType: action,\r\n\t}\r\n)\r\n\r\nexport const records = observable(\r\n\t{\r\n\t\t'1337': {\r\n\t\t\t// this record id\r\n\t\t\t'111': {\r\n\t\t\t\tid: '111',\r\n\t\t\t\t// ID of this element parent\r\n\t\t\t\tparentID: '1337',\r\n\t\t\t\tname: 'Ford',\r\n\t\t\t\tnameChained: '13372',\r\n\t\t\t\tfill: {\r\n\t\t\t\t\t'13372': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13372',\r\n\t\t\t\t\t\tcontent: 'Ford'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'13373': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13373',\r\n\t\t\t\t\t\tcontent: 'Mustang'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'13374': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13374',\r\n\t\t\t\t\t\tcontent: 'https://autoua.net/media/uploads/ford/electric-ford-mustang-by-charge-cars.jpg'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'222': {\r\n\t\t\t\tid: '222',\r\n\t\t\t\tparentID: '1337',\r\n\t\t\t\tname: 'Toyota',\r\n\t\t\t\tnameChained: '13372',\r\n\t\t\t\tfill: {\r\n\t\t\t\t\t'13372': {\r\n\t\t\t\t\t\tid: '13372',\r\n\t\t\t\t\t\tcontent: 'Toyota'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'13373': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13373',\r\n\t\t\t\t\t\tcontent: 'Corolla'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'13374': {\r\n\t\t\t\t\t\t// ID of layout element this content belong to\r\n\t\t\t\t\t\tid: '13374',\r\n\t\t\t\t\t\tcontent: 'https://carrentalgeorgia.ge/uploads/product/834471572870733.jpg'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\teditRecordField(fillItemId, value) {\r\n\t\t\tthis[chosenTemplate.get()][chosenRecord.get()].fill[fillItemId].content = value\r\n\r\n\t\t\tif (this[chosenTemplate.get()][chosenRecord.get()].nameChained === fillItemId) {\r\n\t\t\t\tthis[chosenTemplate.get()][chosenRecord.get()].name = value\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\teditRecordField: action,\r\n\t}\r\n)\r\n\r\nexport const chosenTemplate = observable.box(-1)\r\nexport const chosenRecord = observable.box(-1)\r\n\r\nexport const getTemplate = () => {\r\n\treturn toJS(templates[chosenTemplate.get()])\r\n}\r\n\r\nexport const getRecord = () => {\r\n\treturn toJS(records[chosenTemplate.get()][chosenRecord.get()])\r\n}\r\n\r\nexport const chooseTemplate = (templateID) => {\r\n\tchosenTemplate.set(templateID)\r\n}\r\n\r\nexport const chooseRecord = (recordID) => {\r\n\tchosenRecord.set(recordID)\r\n}\r\n\r\nexport const createNewTemplate = () => {\r\n\tlet id = generateID()\r\n\ttemplates[id] = {\r\n\t\tid,\r\n\t\tname: 'New template',\r\n\t\tlayout: {\r\n\t\t\t'1': {\r\n\t\t\t\tid: '1',\r\n\t\t\t\ttype: 'templateName',\r\n\t\t\t\tname: 'New template',\r\n\t\t\t\tsize: {\r\n\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\theight: '25px'\r\n\t\t\t\t},\r\n\t\t\t\tpos: {\r\n\t\t\t\t\tx: 200,\r\n\t\t\t\t\ty: 50\r\n\t\t\t\t},\r\n\t\t\t\tzIndex: 1\r\n\t\t\t},\r\n\t\t\t'2': {\r\n\t\t\t\tid: '2',\r\n\t\t\t\ttype: 'label',\r\n\t\t\t\tname: 'default label',\r\n\t\t\t\tsize: {\r\n\t\t\t\t\twidth: '90px',\r\n\t\t\t\t\theight: '25px'\r\n\t\t\t\t},\r\n\t\t\t\tpos: {\r\n\t\t\t\t\tx: 50,\r\n\t\t\t\t\ty: 100\r\n\t\t\t\t},\r\n\t\t\t\tzIndex: 1\r\n\t\t\t},\r\n\t\t\t'3': {\r\n\t\t\t\tid: '3',\r\n\t\t\t\ttype: 'textbox',\r\n\t\t\t\tsize: {\r\n\t\t\t\t\twidth: '100px',\r\n\t\t\t\t\theight: '25px'\r\n\t\t\t\t},\r\n\t\t\t\tpos: {\r\n\t\t\t\t\tx: 150,\r\n\t\t\t\t\ty: 100\r\n\t\t\t\t},\r\n\t\t\t\tzIndex: 1\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\tchooseTemplate(id)\r\n\tcreateNewRecord()\r\n\treturn id\r\n}\r\n\r\nexport const createNewRecord = () => {\r\n\tlet chosenTemplateId = chosenTemplate.get()\r\n\tlet id = generateID()\r\n\tlet template = getTemplate()\r\n\r\n\t// create object in records\r\n\tif (!records[chosenTemplateId]) {\r\n\t\trecords[chosenTemplateId] = {}\r\n\t}\r\n\r\n\tlet fill = {}\r\n\r\n\tObject.values(template.layout).forEach(e => {\r\n\t\tif (e.type !== 'templateName' && e.type !== 'label') {\r\n\t\t\tfill[e.id] = {\r\n\t\t\t\tid: e.id,\r\n\t\t\t\tcontent: 'new textbox'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tconst getFirstTextbox = () => {\r\n\t\tlet layoutElements = Object.values(template.layout)\r\n\t\tif (layoutElements.length < 1) return -1\r\n\r\n\t\tlet layoutTextboxes = layoutElements.filter(e => e.type === 'textbox')\r\n\t\tif (layoutTextboxes.length < 1) return -1\r\n\r\n\t\treturn layoutTextboxes[0].id\r\n\t}\r\n\r\n\trecords[chosenTemplateId][id] = {\r\n\t\tid,\r\n\t\tparentID: chosenTemplateId,\r\n\t\tname: 'new record to parent ' + template.name,\r\n\t\tnameChained: getFirstTextbox(),\r\n\t\tfill\r\n\t}\r\n}\r\n\r\nexport const updSize = (layoutID, pos, ref) => {\r\n\tlet size = {\r\n\t\twidth: ref.style.width,\r\n\t\theight: ref.style.height\r\n\t}\r\n\ttemplates.setSize(layoutID, size)\r\n\r\n\tupdPos(layoutID, pos)\r\n}\r\n\r\nexport const updPos = (layoutID, pos) => {\r\n\ttemplates.setPos(layoutID, pos)\r\n}\r\n\r\nexport const editTemplateElementName = (layoutID, value) => {\r\n\ttemplates.editTemplateElementName(layoutID, value)\r\n}\r\n\r\nexport const editRecordField = (layoutID, recordID, value) => {\r\n\trecords.editRecordField(layoutID, recordID, value)\r\n}\r\n\r\nexport const getLayoutItem = (layoutItemID) => {\r\n\treturn getTemplate().layout[layoutItemID]\r\n}\r\n\r\nexport const addLayoutItem = (layoutItemType, pos) => {\r\n\tlet chosenTemplateID = chosenTemplate.get()\r\n\tlet id = generateID()\r\n\r\n\tlet newItem = {\r\n\t\tid,\r\n\t\ttype: layoutItemType,\r\n\t\tname: 'New ' + layoutItemType,\r\n\t\tsize: { width: '80px', height: '25px' },\r\n\t\tpos,\r\n\t\tzIndex: 1\r\n\t}\r\n\r\n\tif (layoutItemType === 'image') {\r\n\t\tnewItem.size.width = '300px'\r\n\t\tnewItem.size.height = '150px'\r\n\t\tnewItem.fit = 'cover'\r\n\t}\r\n\r\n\ttemplates[chosenTemplateID].layout[id] = newItem\r\n\r\n\tif (layoutItemType === 'templateName' || layoutItemType === 'label') {\r\n\t\treturn id\r\n\t}\r\n\r\n\tlet templateID = chosenTemplate.get()\r\n\r\n\tObject.keys(records).forEach(recordGroupID => {\r\n\t\tif (recordGroupID === templateID) {\r\n\t\t\tObject.keys(records[recordGroupID]).forEach(recordID => {\r\n\t\t\t\trecords[recordGroupID][recordID].fill[id] = {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tcontent: 'New ' + layoutItemType\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\treturn id\r\n}\r\n\r\nexport const deleteLayoutItem = (layoutItemID) => {\r\n\r\n\tlet chosenTemplateID = chosenTemplate.get()\r\n\r\n\tdelete templates[chosenTemplateID].layout[layoutItemID]\r\n\r\n\t// find and delete all records\r\n\tObject.keys(records[chosenTemplateID]).map(e => {\r\n\t\tObject.keys(records[chosenTemplateID][e].fill).map(k => {\r\n\t\t\tif (k === layoutItemID) {\r\n\t\t\t\tdelete records[chosenTemplateID][e].fill[k]\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}\r\n\r\nexport const changeImageFitType = (layoutItemID, fitType) => {\r\n\r\n\tif (getTemplate().layout[layoutItemID].type !== 'image') {\r\n\t\tconsole.log('Trying to change fit type for non-image layout element!')\r\n\t\treturn\r\n\t}\r\n\ttemplates.setImageFitType(layoutItemID, fitType)\r\n}\r\n\r\n\r\n","import app from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport { setScreen } from './data'\r\n\r\n/* eslint-disable */\r\nconst firebaseConfig = {\r\n\tapiKey: process.env.REACT_APP_API_KEY,\r\n\tauthDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n\tdatabaseURL: process.env.REACT_APP_DATABASE_URL,\r\n\tprojectId: process.env.REACT_APP_PROJECT_ID,\r\n\tstorageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n\tappId: process.env.REACT_APP_APP_ID\r\n}\r\n/* eslint-enable */\r\n\r\nclass Firebase {\r\n\r\n\tconstructor() {\r\n\t\tapp.initializeApp(firebaseConfig)\r\n\t\tthis.auth = app.auth()\r\n\t\tthis.db = app.firestore()\r\n\t}\r\n\r\n\tasync updateUserProfileName(displayName) {\r\n\t\t// Also can delete user, update password, email, etc.\r\n\t\t// https://firebase.google.com/docs/auth/web/manage-users\r\n\t\tconst user = this.auth.currentUser\r\n\t\ttry {\r\n\t\t\tuser.updateProfile({ displayName })\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t update user profile name')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tasync signInWithEmailAndPassword(email, password, setLoading) {\r\n\t\ttry {\r\n\t\t\tsetLoading(true)\r\n\t\t\tawait this.auth.signInWithEmailAndPassword(email, password)\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tsetLoading(false)\r\n\t\t\tconsole.log(error)\r\n\t\t\treturn error\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tasync signInWithPopup() {\r\n\t\tlet provider = new this.auth.GoogleAuthProvider()\r\n\t\tlet result\r\n\t\ttry {\r\n\t\t\tresult = await this.auth().signInWithPopup(provider)\r\n\t\t\t// This gives you a Google Access Token. You can use it to access the Google API.\r\n\t\t\tvar token = result.credential.accessToken\r\n\t\t\t// The signed-in user info.\r\n\t\t\tvar user = result.user\r\n\t\t\t// ...\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t sign in with popup')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tasync signOut() {\r\n\t\ttry {\r\n\t\t\tawait this.auth.signOut()\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Sign out error')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tasync createUserWithEmailAndPassword(email, password, setLoading) {\r\n\t\ttry {\r\n\t\t\tsetLoading(true)\r\n\t\t\tawait this.auth.createUserWithEmailAndPassword(email, password)\r\n\t\t\tawait this.db.collection('users').doc(this.auth.currentUser.uid).set({\r\n\t\t\t\tproducts: [],\r\n\t\t\t\tsells: [],\r\n\t\t\t\tpastSells: []\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\tsetLoading(false)\r\n\t\t\treturn error\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tasync updateCollection() {\r\n\t\ttry {\r\n\t\t\tconst collection = await this.db.collection('users').doc(this.auth.currentUser.uid).get()\r\n\t\t\tthis.collection = collection.data()\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t get data from database')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\tasync addData(data) {\r\n\t\ttry {\r\n\t\t\tawait this.db.collection('users').doc(this.auth.currentUser.uid).update({\r\n\t\t\t\tproducts: app.firestore.FieldValue.arrayUnion(data)\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t add data')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t\tawait this.updateCollection()\r\n\t}\r\n\r\n\tasync deleteData(data) {\r\n\t\ttry {\r\n\t\t\tawait this.db.collection('users').doc(this.auth.currentUser.uid).update({\r\n\t\t\t\tproducts: app.firestore.FieldValue.arrayRemove(data)\r\n\t\t\t})\r\n\t\t}\r\n\t\tcatch (error) {\r\n\t\t\talert('Can\\'t delete data')\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t\tawait this.updateCollection()\r\n\t}\r\n}\r\n\r\nexport default new Firebase()","import React, { useState, useEffect } from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport firebase from './firebase'\r\nimport { chosenTemplate, chooseTemplate, chooseRecord, createNewTemplate, createNewRecord, setScreen } from './data'\r\n\r\n\r\nconst List = ({ templates, records }) => {\r\n\r\n\tconst [templateId, setTemplateId] = useState(-1)\r\n\r\n\tuseEffect(() => {\r\n\t\tlet firstTemplateId = chosenTemplate.get()\r\n\t\tif (firstTemplateId !== -1) {\r\n\t\t\tsetTemplateId(firstTemplateId)\r\n\t\t} else {\r\n\t\t\tfirstTemplateId = Object.keys(templates)[0]\r\n\t\t\tif (firstTemplateId) {\r\n\t\t\t\tsetTemplateId(firstTemplateId)\r\n\t\t\t\tchooseTemplate(firstTemplateId)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [templates])\r\n\r\n\tconst gotoEditTemplate = () => {\r\n\t\tsetScreen('editTemplate')\r\n\t}\r\n\r\n\tconst pickTemplate = (e) => {\r\n\t\tsetTemplateId(e.target.value)\r\n\t\tchooseTemplate(e.target.value)\r\n\t}\r\n\r\n\tconst createTemplate = () => {\r\n\t\tlet newTemplateId = createNewTemplate()\r\n\t\tsetTemplateId(newTemplateId)\r\n\t}\r\n\r\n\tconst logout = async () => {\r\n\t\tawait firebase.signOut()\r\n\t\tsetScreen('login')\r\n\t}\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<button onClick={logout}>Logout</button>\r\n\t\t\t{\r\n\t\t\t\ttemplateId === -1 ?\r\n\t\t\t\t\t<div>No templates found</div> :\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<select onChange={pickTemplate} value={templateId}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tObject.keys(templates).map(key => (\r\n\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\t\tvalue={key}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{templates[key].name}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t<button onClick={gotoEditTemplate}>Edit template</button>\r\n\r\n\t\t\t\t\t\t<button onClick={createTemplate}>Create new template</button>\r\n\r\n\t\t\t\t\t\t<button onClick={createNewRecord}>Add record</button>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trecords[templateId] ?\r\n\t\t\t\t\t\t\t\tObject.keys(records[templateId]).map(key => (\r\n\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ paddingTop: '20px' }}\r\n\t\t\t\t\t\t\t\t\t\tkey={key}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tchooseRecord(key)\r\n\t\t\t\t\t\t\t\t\t\t\tsetScreen('showRecord')\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '10px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid green',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: '10px',\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: 'rgba(100, 255, 150, 0.2)'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{records[templateId][key].name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)) :\r\n\t\t\t\t\t\t\t\t<p>No records found</p>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('templates', 'records')(observer(List))\r\n","import React from 'react'\r\nimport { Rnd } from 'react-rnd'\r\nimport { getTemplate } from './../data'\r\n\r\nconst StaticDragBox = ({ layoutId, content }) => {\r\n\r\n\tlet layoutElement = getTemplate().layout[layoutId]\r\n\r\n\tconst elementSwitcher = () => {\r\n\t\t/*  eslint-disable*/\r\n\t\tswitch (layoutElement.type) {\r\n\t\t\tcase 'textbox':\r\n\t\t\t\treturn <p>{content}</p>\r\n\t\t\tcase 'templateName':\r\n\t\t\t\treturn <p>{layoutElement.name}</p>\r\n\t\t\tcase 'label':\r\n\t\t\t\treturn <p>{layoutElement.name}:</p>\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tbackgroundImage: `url(${content})`,\r\n\t\t\t\t\t\tbackgroundPosition: 'center',\r\n\t\t\t\t\t\tbackgroundSize: layoutElement.fit,\r\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\t\tborder: '1px solid black'\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t}\r\n\t\t/* eslint-enable */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Rnd\r\n\r\n\t\t\tsize={layoutElement.size}\r\n\t\t\tposition={layoutElement.pos}\r\n\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t}}\r\n\r\n\t\t\tdisableDragging={true}\r\n\r\n\t\t\tenableResizing={{\r\n\t\t\t\tbottom: false,\r\n\t\t\t\tbottomLeft: false,\r\n\t\t\t\tbottomRight: false,\r\n\t\t\t\tleft: false,\r\n\t\t\t\tright: false,\r\n\t\t\t\ttop: false,\r\n\t\t\t\ttopLeft: false,\r\n\t\t\t\ttopRight: false,\r\n\t\t\t}}\r\n\r\n\t\t>\r\n\r\n\t\t\t{elementSwitcher()}\r\n\r\n\t\t</Rnd >\r\n\t)\r\n}\r\n\r\nexport default StaticDragBox","import React from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { getTemplate, getRecord, setScreen } from './../data'\r\nimport StaticDragBox from './StaticDragBox'\r\n\r\n\r\nconst ShowRecord = () => {\r\n\r\n\r\n\tconst getContent = (key) => {\r\n\t\tlet content = false\r\n\t\tlet fill = getRecord().fill[key]\r\n\t\tif (fill) {\r\n\t\t\tcontent = fill.content\r\n\t\t}\r\n\t\treturn content\r\n\t}\r\n\r\n\tconst gotoEditRecord = () => {\r\n\t\tsetScreen('editRecord')\r\n\t}\r\n\r\n\tconst gotoList = () => {\r\n\t\tsetScreen('list')\r\n\t}\r\n\r\n\tconst loopLayout = () => {\r\n\t\treturn Object.keys(getTemplate().layout).map(key => {\r\n\t\t\tlet content = getContent(key)\r\n\t\t\treturn (\r\n\t\t\t\t<StaticDragBox\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\tlayoutId={key}\r\n\t\t\t\t\tcontent={content}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\r\n\t\t\t<button onClick={gotoList}>Back</button>\r\n\t\t\t<button onClick={gotoEditRecord}>Edit record</button>\r\n\r\n\t\t\t{loopLayout()}\r\n\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('templates')(observer(ShowRecord))\r\n","import React from 'react'\r\nimport { Rnd } from 'react-rnd'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { updPos, updSize, getTemplate, editTemplateElementName } from './../data'\r\n\r\nconst DynamicDragBox = ({ layoutId, active, setActiveHandle }) => {\r\n\r\n\tlet layoutElement = getTemplate().layout[layoutId]\r\n\r\n\tconst elementSwitcher = () => {\r\n\t\t/*  eslint-disable*/\r\n\t\tswitch (layoutElement.type) {\r\n\t\t\tcase 'textbox':\r\n\t\t\t\treturn <textarea\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'grey',\r\n\t\t\t\t\t\tresize: 'none',\r\n\t\t\t\t\t\ttextAlignLast: 'center',\r\n\t\t\t\t\t\tbackgroundColor: 'transparent',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\treadOnly={true}\r\n\t\t\t\t\tvalue='Textbox'\r\n\t\t\t\t/>\r\n\t\t\tcase 'label':\r\n\t\t\tcase 'templateName':\r\n\t\t\t\treturn <textarea\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: layoutElement.size.width,\r\n\t\t\t\t\t\theight: layoutElement.size.height,\r\n\t\t\t\t\t\ttextAlignLast: 'center',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\tresize: 'none',\r\n\t\t\t\t\t\tbackgroundColor: 'transparent',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={layoutElement.name}\r\n\t\t\t\t\tonChange={(e) => editTemplateElementName(layoutId, e.target.value)}\r\n\t\t\t\t\tonDoubleClick={e => e.target.select()}\r\n\t\t\t\t/>\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tbackgroundImage: 'url(https://static.toiimg.com/thumb/72975551.cms?width=680&height=512&imgsize=881753)',\r\n\t\t\t\t\t\tbackgroundPosition: 'center',\r\n\t\t\t\t\t\tbackgroundSize: layoutElement.fit,\r\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\t\tborder: '1px solid black'\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t}\r\n\t\t/* eslint-enable */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Rnd\r\n\r\n\t\t\tsize={layoutElement.size}\r\n\t\t\tposition={layoutElement.pos}\r\n\r\n\t\t\tonDragStop={\r\n\t\t\t\t(e, pos) => active !== -1 && updPos(layoutElement.id, pos)\r\n\t\t\t}\r\n\t\t\tonResizeStop={\r\n\t\t\t\t(e, _direction, ref, delta, pos) => active !== -1 && updSize(layoutElement.id, pos, ref)\r\n\t\t\t}\r\n\t\t\tonMouseDown={\r\n\t\t\t\te => setActiveHandle(e, layoutElement.id)\r\n\t\t\t}\r\n\t\t\tonResize={\r\n\t\t\t\te => setActiveHandle(e, layoutElement.id)\r\n\t\t\t}\r\n\r\n\t\t\tbounds={'.dragBoxBoundry'}\r\n\r\n\t\t\tstyle={\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t>\r\n\t\t\t<div style={{\r\n\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tdisplay: 'inline',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\ttop: '0',\r\n\t\t\t\tleft: '0',\r\n\t\t\t\tbottom: '0',\r\n\t\t\t\tright: '0',\r\n\t\t\t\tborder: (active === layoutElement.id ? '1px solid rgb(193, 66, 66)' : '1px solid rgb(122, 122, 122)'),\r\n\t\t\t\tbackgroundColor: (active === layoutElement.id ? 'rgba(193, 66, 66, 0.26)' : 'rgba(122, 122, 122, 0.26)')\r\n\t\t\t}} />\r\n\r\n\t\t\t{elementSwitcher()}\r\n\t\t</Rnd >\r\n\t)\r\n}\r\n\r\nexport default inject('templates')(observer(DynamicDragBox))","import React from 'react'\r\nimport { getLayoutItem, deleteLayoutItem, imageFitTypes, changeImageFitType } from './../data'\r\n\r\n\r\nconst ActionPanel = ({ layoutItemID, setActive, styleSheet }) => {\r\n\r\n\tconst deleteItem = () => {\r\n\t\tlet conf = true\r\n\r\n\t\tif (getLayoutItem(layoutItemID).type === 'textbox') {\r\n\t\t\tconf = window.confirm('This will delete all connected record fields')\r\n\t\t}\r\n\r\n\t\tif (!conf) return\r\n\r\n\t\tdeleteLayoutItem(layoutItemID)\r\n\t\tsetActive(-1)\r\n\t}\r\n\r\n\tconst pickImageFitType = (e) => {\r\n\t\tchangeImageFitType(layoutItemID, e.target.value)\r\n\t}\r\n\r\n\tconst imageFitTypeSwitch = (layoutItem) => (\r\n\t\t<select onChange={pickImageFitType} value={layoutItem.fit}>\r\n\t\t\t{\r\n\t\t\t\timageFitTypes.map(e =>\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\t<option key={e} value={e} >\r\n\t\t\t\t\t\t\t{e}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</select>\r\n\t)\r\n\r\n\r\n\tconst generateMenu = () => {\r\n\r\n\t\tlet layoutItem = getLayoutItem(layoutItemID)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>{layoutItem.type}</p>\r\n\t\t\t\t{\r\n\t\t\t\t\tlayoutItem.type !== 'templateName' && <button onClick={deleteItem}>Delete this shit</button>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\t\tlayoutItem.type === 'image' && imageFitTypeSwitch(layoutItem)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={styleSheet}>\r\n\t\t\t{\r\n\t\t\t\tlayoutItemID === -1 ?\r\n\t\t\t\t\t<p>No layout item chosen</p> :\r\n\t\t\t\t\tgenerateMenu()\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ActionPanel\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Rnd } from 'react-rnd'\r\nimport { addLayoutItem } from './../data'\r\n\r\n\r\nconst AddingPanel = ({ styleSheet, setActive }) => {\r\n\r\n\tlet boxHeight = 50\r\n\tlet boxVerticalGap = 10\r\n\tlet boxNames = ['label', 'textbox', 'image']\r\n\r\n\tconst [boxData, setBoxData] = useState({})\r\n\r\n\tuseEffect(() => {\r\n\t\tlet obj = {}\r\n\t\tboxNames.forEach((e, i) => obj[e] = {\r\n\t\t\tx: '',\r\n\t\t\ty: i * boxHeight + boxVerticalGap * (i + 1)\r\n\t\t})\r\n\t\tsetBoxData(obj)\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div style={styleSheet}>\r\n\r\n\t\t\t{\r\n\t\t\t\tObject.keys(boxData).map(k => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Rnd\r\n\t\t\t\t\t\t\tkey={k}\r\n\t\t\t\t\t\t\tposition={boxData[k]}\r\n\t\t\t\t\t\t\tsize={{ width: '100%', height: boxHeight }}\r\n\t\t\t\t\t\t\tenableResizing={false}\r\n\r\n\t\t\t\t\t\t\tonDragStop={\r\n\t\t\t\t\t\t\t\t(e, pos) => {\r\n\r\n\t\t\t\t\t\t\t\t\tif (pos.x >= 0) {\r\n\t\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlet x = e.target.parentNode.parentNode.clientWidth + pos.x - e.target.parentNode.clientWidth\r\n\t\t\t\t\t\t\t\t\tlet position = { x, y: pos.y }\r\n\t\t\t\t\t\t\t\t\tlet createdItemId = addLayoutItem(k, position)\r\n\t\t\t\t\t\t\t\t\tsetActive(createdItemId)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\t\t\t\tborder: '1px solid blue'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t{k}\r\n\r\n\t\t\t\t\t\t</Rnd >\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\r\n\t\t</div >\r\n\t)\r\n}\r\n\r\nexport default AddingPanel\r\n","import React, { useState } from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { getTemplate, setScreen } from './../data'\r\nimport DynamicDragBox from './DynamicDragBox'\r\nimport ActionPanel from './ActionPanel'\r\nimport AddingPanel from './AddingPanel'\r\n\r\n\r\nconst EditTemplate = () => {\r\n\r\n\tconst [active, setActive] = useState(-1)\r\n\r\n\r\n\tconst setActiveHandle = (e, activeId) => {\r\n\t\tif (active === activeId) return\r\n\t\te.stopPropagation()\r\n\t\tsetActive(activeId)\r\n\t}\r\n\r\n\tconst gotoList = () => setScreen('list')\r\n\r\n\tconst loopLayout = () => {\r\n\t\treturn Object.keys(getTemplate().layout).map(key => {\r\n\t\t\treturn (\r\n\t\t\t\t<DynamicDragBox\r\n\t\t\t\t\tkey={key}\r\n\t\t\t\t\tlayoutId={key}\r\n\t\t\t\t\tactive={active}\r\n\t\t\t\t\tsetActiveHandle={setActiveHandle}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\theight: '100vh',\r\n\t\t\twidth: '100vw'\r\n\t\t}}>\r\n\r\n\r\n\t\t\t<div style={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\theight: '85vh',\r\n\t\t\t\twidth: '100vw'\r\n\t\t\t}}>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='dragBoxBoundry'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tborder: '1px solid cyan',\r\n\t\t\t\t\t\twidth: '85vw',\r\n\t\t\t\t\t\theight: 'inherit',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(100, 150, 255, 0.2)'\r\n\t\t\t\t\t}}>\r\n\r\n\t\t\t\t\t<button onClick={gotoList}>Go to List</button>\r\n\t\t\t\t\t{loopLayout()}\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<AddingPanel\r\n\t\t\t\t\tsetActive={setActive}\r\n\t\t\t\t\tstyleSheet={{\r\n\t\t\t\t\t\twidth: '15vw',\r\n\t\t\t\t\t\theight: 'inherit',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(100, 255, 100, 0.2)',\r\n\t\t\t\t\t\tborder: '1px solid green',\r\n\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\tright: '0',\r\n\t\t\t\t\t\ttop: '0',\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t}} />\r\n\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<ActionPanel\r\n\t\t\t\tlayoutItemID={active}\r\n\t\t\t\tsetActive={setActive}\r\n\t\t\t\tstyleSheet={{\r\n\t\t\t\t\theight: '15vh',\r\n\t\t\t\t\twidth: '100vw',\r\n\t\t\t\t\tbackgroundColor: 'rgba(255, 100, 100, 0.2)',\r\n\t\t\t\t\tborder: '1px solid red',\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\tbottom: '0',\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('templates')(observer(EditTemplate))\r\n","import React from 'react'\r\nimport { Rnd } from 'react-rnd'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { getTemplate, editRecordField } from './../data'\r\n\r\nconst DynamicDragBox = ({ fillItemId, content }) => {\r\n\r\n\tlet layoutElement = getTemplate().layout[fillItemId]\r\n\r\n\tconst elementSwitcher = () => {\r\n\t\t/*  eslint-disable*/\r\n\t\tswitch (layoutElement.type) {\r\n\t\t\tcase 'textbox':\r\n\t\t\t\treturn <textarea\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'black',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.1)',\r\n\t\t\t\t\t\tresize: 'none',\r\n\t\t\t\t\t\ttextAlignLast: 'center',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={content}\r\n\t\t\t\t\tonChange={(e) => editRecordField(fillItemId, e.target.value)}\r\n\t\t\t\t\tonDoubleClick={e => e.target.select()}\r\n\r\n\t\t\t\t/>\r\n\t\t\tcase 'templateName':\r\n\t\t\tcase 'label':\r\n\t\t\t\treturn <textarea\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: layoutElement.size.width,\r\n\t\t\t\t\t\theight: layoutElement.size.height,\r\n\t\t\t\t\t\ttextAlignLast: 'center',\r\n\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\tcolor: 'grey',\r\n\t\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.1)',\r\n\t\t\t\t\t\tresize: 'none',\r\n\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvalue={layoutElement.name}\r\n\t\t\t\t\treadOnly={true}\r\n\t\t\t\t/>\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\twidth: layoutElement.size.width,\r\n\t\t\t\t\t\theight: layoutElement.size.height,\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tbackgroundImage: `url(${content})`,\r\n\t\t\t\t\t\tbackgroundPosition: 'center',\r\n\t\t\t\t\t\tbackgroundSize: layoutElement.fit,\r\n\t\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\t\tborder: '1px solid black',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: layoutElement.size.width,\r\n\t\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\tbackground: 'rgba(230, 230, 230, 0.9)',\r\n\t\t\t\t\t\t\tborder: '1px solid black',\r\n\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\tonChange={(e) => editRecordField(fillItemId, e.target.value)}\r\n\t\t\t\t\t\tonDoubleClick={e => e.target.select()}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t}\r\n\t\t/* eslint-enable */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Rnd\r\n\r\n\t\t\tsize={layoutElement.size}\r\n\t\t\tposition={layoutElement.pos}\r\n\r\n\t\t\tdisableDragging={true}\r\n\r\n\t\t\tenableResizing={{\r\n\t\t\t\tbottom: false,\r\n\t\t\t\tbottomLeft: false,\r\n\t\t\t\tbottomRight: false,\r\n\t\t\t\tleft: false,\r\n\t\t\t\tright: false,\r\n\t\t\t\ttop: false,\r\n\t\t\t\ttopLeft: false,\r\n\t\t\t\ttopRight: false,\r\n\t\t\t}}\r\n\r\n\t\t\tstyle={\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t>\r\n\t\t\t<div style={{\r\n\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tdisplay: 'inline',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\ttop: '0',\r\n\t\t\t\tleft: '0',\r\n\t\t\t\tbottom: '0',\r\n\t\t\t\tright: '0'\r\n\t\t\t}} />\r\n\r\n\t\t\t{elementSwitcher()}\r\n\t\t</Rnd >\r\n\t)\r\n}\r\n\r\nexport default inject('records')(observer(DynamicDragBox))","import React from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport { getTemplate, setScreen, getRecord } from '../data'\r\nimport DynamicDragBox from './DynamicDragBox'\r\n\r\n\r\nconst EditRecord = () => {\r\n\r\n\tconst gotoShowRecord = () => setScreen('showRecord')\r\n\tconst gotoList = () => setScreen('list')\r\n\r\n\tconst getContent = (key) => {\r\n\t\tlet content\r\n\t\tlet fill = getRecord().fill[key]\r\n\t\tif (fill) {\r\n\t\t\tcontent = fill.content\r\n\t\t}\r\n\t\treturn content\r\n\t}\r\n\r\n\tconst loopLayout = () => Object.keys(getTemplate().layout).map(key => {\r\n\t\tlet content = getContent(key)\r\n\t\treturn (\r\n\t\t\t<DynamicDragBox\r\n\t\t\t\tkey={key}\r\n\t\t\t\tfillItemId={key}\r\n\t\t\t\tcontent={content}\r\n\t\t\t/>\r\n\t\t)\r\n\t})\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\r\n\t\t\t<button onClick={gotoShowRecord}>Back</button>\r\n\t\t\t<button onClick={gotoList}>Go to List</button>\r\n\r\n\t\t\t{loopLayout()}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('records')(observer(EditRecord))\r\n","import React, { useState } from 'react'\r\nimport firebase from './firebase'\r\nimport { setScreen } from './data'\r\n\r\nconst Login = () => {\r\n\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst signIn = async () => {\r\n\t\tlet error = await firebase.signInWithEmailAndPassword(email, password, setLoading)\r\n\t\tif (error) {\r\n\t\t\talert(error.message)\r\n\t\t} else {\r\n\t\t\tsetScreen('list')\r\n\t\t}\r\n\t}\r\n\r\n\tconst register = async () => {\r\n\t\tlet error = await firebase.createUserWithEmailAndPassword(email, password, setLoading)\r\n\t\tif (error) {\r\n\t\t\talert(error.message)\r\n\t\t} else {\r\n\t\t\tsetScreen('list')\r\n\t\t}\r\n\t}\r\n\r\n\tconst submitDenial = (e) => e.preventDefault() && false\r\n\tconst emailInputChange = (e) => setEmail(e.target.value)\r\n\tconst passwordInputChange = (e) => setPassword(e.target.value)\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Login or register</h1>\r\n\t\t\t<form onSubmit={submitDenial}>\r\n\t\t\t\t<label>Email Address</label>\r\n\t\t\t\t<input id=\"email\" name=\"email\" value={email} onChange={emailInputChange} />\r\n\t\t\t\t<label>Password</label>\r\n\t\t\t\t<input name=\"password\" type=\"password\" id=\"password\" value={password} onChange={passwordInputChange} />\r\n\r\n\t\t\t\t<button onClick={signIn}>Sign in</button>\r\n\t\t\t\t<button onClick={register}>Register</button>\r\n\t\t\t</form>\r\n\t\t\t{\r\n\t\t\t\tloading && <div className=\"loader\">Loading</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login","import React, { useState, useEffect } from 'react'\r\nimport { inject, observer } from 'mobx-react'\r\nimport firebase from './firebase'\r\nimport { setScreen } from './data'\r\n\r\n\r\nimport List from './List'\r\nimport ShowRecord from './ShowRecord/ShowRecord'\r\nimport EditTemplate from './EditTemplate/EditTemplate'\r\nimport EditRecord from './EditRecord/EditRecord'\r\nimport Login from './Login'\r\n\r\nconst Router = ({ screen }) => {\r\n\r\n\r\n\tconst initFirebase = async () => {\r\n\r\n\t\tfirebase.auth.onAuthStateChanged(user => {\r\n\t\t\tif (user) {\r\n\t\t\t\tfirebase.updateCollection()\r\n\t\t\t\tsetScreen('list')\r\n\t\t\t} else {\r\n\t\t\t\tsetScreen('login')\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tinitFirebase()\r\n\t}, [])\r\n\r\n\tconst screenSwitch = () => {\r\n\t\t/* eslint-disable */\r\n\t\tswitch (screen.get()) {\r\n\t\t\tcase 'loading':\r\n\t\t\t\treturn <div className=\"loader\">Loading</div>\r\n\t\t\tcase 'login':\r\n\t\t\t\treturn <Login />\r\n\t\t\tcase 'list':\r\n\t\t\t\treturn <List />\r\n\t\t\tcase 'showRecord':\r\n\t\t\t\treturn <ShowRecord />\r\n\t\t\tcase 'editTemplate':\r\n\t\t\t\treturn <EditTemplate />\r\n\t\t\tcase 'editRecord':\r\n\t\t\t\treturn <EditRecord />\r\n\t\t\tdefault:\r\n\t\t\t\talert('Router error')\r\n\t\t\t\treturn <List />\r\n\t\t}\r\n\t\t/* eslint-enable */\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{\r\n\t\t\t\tscreenSwitch()\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default inject('screen')(observer(Router))\r\n","import React from 'react'\nimport './App.css'\nimport { Provider } from 'mobx-react'\nimport { templates, records, screen } from './data'\nimport Router from './Router'\n\nconst App = () => {\n\treturn (\n\t\t<Provider {...{ templates, records, screen }}>\n\t\t\t<Router />\n\t\t</Provider>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}